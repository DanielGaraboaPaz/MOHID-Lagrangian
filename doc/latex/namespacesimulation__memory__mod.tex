\hypertarget{namespacesimulation__memory__mod}{}\section{simulation\+\_\+memory\+\_\+mod Module Reference}
\label{namespacesimulation__memory__mod}\index{simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}}


Module to hold the simulation memory managment class and its methods.  


\subsection*{Data Types}
\begin{DoxyCompactItemize}
\item 
type \mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}
\end{DoxyCompactItemize}
\subsection*{Functions/\+Subroutines}
\begin{DoxyCompactItemize}
\item 
subroutine \mbox{\hyperlink{namespacesimulation__memory__mod_ac8306165e4ec88fec9a2b8b719f61893}{initializememory}} (self)
\begin{DoxyCompactList}\small\item\em Private memory logger initialization method. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__memory__mod_acf04d6b930ed3ffbc0950afd86033c51}{getotal}} (self, size)
\begin{DoxyCompactList}\small\item\em Private method to retreive the total size of the allocated memory. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__memory__mod_a4169689db37b3ba35e092096a7019f80}{addblock}} (self, size)
\begin{DoxyCompactList}\small\item\em Private method to add the size of a Block to the memory log. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__memory__mod_a940ff42fa3a49423f9ac98da2bffa54c}{addsource}} (self, size)
\begin{DoxyCompactList}\small\item\em Private method to add the size of a Source to the memory log. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__memory__mod_a5770021491589bbd61ea112d113a9c9d}{addtracer}} (self, size)
\begin{DoxyCompactList}\small\item\em Private method to add the size of a Tracer to the memory log. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__memory__mod_a5f95539e9740401e7046b79c40ad2ecd}{removetracer}} (self, size)
\begin{DoxyCompactList}\small\item\em Private method to remove the size of a Tracer from the memory log. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__memory__mod_ac6d6853bc462947d24a8f6234d625138}{adddef}} (self, size)
\begin{DoxyCompactList}\small\item\em Private method to add the size of a definition to the memory log. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__memory__mod_a16a7a1c7e88fe5a5523d23f83f0e04a0}{printmemory}} (self)
\begin{DoxyCompactList}\small\item\em Method to print the total allocated memory. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__memory__mod_a894bd4ec7462fd634d328ee5be4c6483}{printmemorydetailed}} (self)
\begin{DoxyCompactList}\small\item\em Private method to print the allocated memory. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
type(\mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}), public \mbox{\hyperlink{namespacesimulation__memory__mod_af3e2714796469b4b1ec247569b184088}{simmemory}}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Module to hold the simulation memory managment class and its methods. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas 
\end{DoxyAuthor}


\subsection{Function/\+Subroutine Documentation}
\mbox{\Hypertarget{namespacesimulation__memory__mod_a4169689db37b3ba35e092096a7019f80}\label{namespacesimulation__memory__mod_a4169689db37b3ba35e092096a7019f80}} 
\index{simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}!addblock@{addblock}}
\index{addblock@{addblock}!simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}}
\subsubsection{\texorpdfstring{addblock()}{addblock()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+memory\+\_\+mod\+::addblock (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}), intent(inout)}]{self,  }\item[{integer, intent(in)}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Private method to add the size of a Block to the memory log. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 91 of file simulation\+\_\+memory.\+f90.


\begin{DoxyCode}
91     \textcolor{keywordtype}{implicit none}
92     \textcolor{keywordtype}{class}(memory\_t), \textcolor{keywordtype}{intent(inout)} :: self
93     \textcolor{keywordtype}{integer}, \textcolor{keywordtype}{intent(in)} :: size
94     self%size\_of\_blocks = self%size\_of\_blocks + \textcolor{keyword}{size}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__memory__mod_ac6d6853bc462947d24a8f6234d625138}\label{namespacesimulation__memory__mod_ac6d6853bc462947d24a8f6234d625138}} 
\index{simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}!adddef@{adddef}}
\index{adddef@{adddef}!simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}}
\subsubsection{\texorpdfstring{adddef()}{adddef()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+memory\+\_\+mod\+::adddef (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}), intent(inout)}]{self,  }\item[{integer, intent(in)}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Private method to add the size of a definition to the memory log. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 147 of file simulation\+\_\+memory.\+f90.


\begin{DoxyCode}
147     \textcolor{keywordtype}{implicit none}
148     \textcolor{keywordtype}{class}(memory\_t), \textcolor{keywordtype}{intent(inout)} :: self
149     \textcolor{keywordtype}{integer}, \textcolor{keywordtype}{intent(in)} :: size
150     self%size\_of\_defs = self%size\_of\_defs + \textcolor{keyword}{size}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__memory__mod_a940ff42fa3a49423f9ac98da2bffa54c}\label{namespacesimulation__memory__mod_a940ff42fa3a49423f9ac98da2bffa54c}} 
\index{simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}!addsource@{addsource}}
\index{addsource@{addsource}!simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}}
\subsubsection{\texorpdfstring{addsource()}{addsource()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+memory\+\_\+mod\+::addsource (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}), intent(inout)}]{self,  }\item[{integer, intent(in)}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Private method to add the size of a Source to the memory log. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 105 of file simulation\+\_\+memory.\+f90.


\begin{DoxyCode}
105     \textcolor{keywordtype}{implicit none}
106     \textcolor{keywordtype}{class}(memory\_t), \textcolor{keywordtype}{intent(inout)} :: self
107     \textcolor{keywordtype}{integer}, \textcolor{keywordtype}{intent(in)} :: size
108     self%size\_of\_sources = self%size\_of\_sources + \textcolor{keyword}{size}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__memory__mod_a5770021491589bbd61ea112d113a9c9d}\label{namespacesimulation__memory__mod_a5770021491589bbd61ea112d113a9c9d}} 
\index{simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}!addtracer@{addtracer}}
\index{addtracer@{addtracer}!simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}}
\subsubsection{\texorpdfstring{addtracer()}{addtracer()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+memory\+\_\+mod\+::addtracer (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}), intent(inout)}]{self,  }\item[{integer, intent(in)}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Private method to add the size of a Tracer to the memory log. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 119 of file simulation\+\_\+memory.\+f90.


\begin{DoxyCode}
119     \textcolor{keywordtype}{implicit none}
120     \textcolor{keywordtype}{class}(memory\_t), \textcolor{keywordtype}{intent(inout)} :: self
121     \textcolor{keywordtype}{integer}, \textcolor{keywordtype}{intent(in)} :: size
122     self%size\_of\_tracers = self%size\_of\_tracers + \textcolor{keyword}{size}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__memory__mod_acf04d6b930ed3ffbc0950afd86033c51}\label{namespacesimulation__memory__mod_acf04d6b930ed3ffbc0950afd86033c51}} 
\index{simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}!getotal@{getotal}}
\index{getotal@{getotal}!simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}}
\subsubsection{\texorpdfstring{getotal()}{getotal()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+memory\+\_\+mod\+::getotal (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}), intent(inout)}]{self,  }\item[{integer, intent(out)}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Private method to retreive the total size of the allocated memory. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 77 of file simulation\+\_\+memory.\+f90.


\begin{DoxyCode}
77     \textcolor{keywordtype}{implicit none}
78     \textcolor{keywordtype}{class}(memory\_t), \textcolor{keywordtype}{intent(inout)} :: self
79     \textcolor{keywordtype}{integer}, \textcolor{keywordtype}{intent(out)} :: size
80     \textcolor{keyword}{size} = self%size\_of\_sources + self%size\_of\_tracers + self%size\_of\_defs + self%size\_of\_blocks
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__memory__mod_ac8306165e4ec88fec9a2b8b719f61893}\label{namespacesimulation__memory__mod_ac8306165e4ec88fec9a2b8b719f61893}} 
\index{simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}!initializememory@{initializememory}}
\index{initializememory@{initializememory}!simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}}
\subsubsection{\texorpdfstring{initializememory()}{initializememory()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+memory\+\_\+mod\+::initializememory (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Private memory logger initialization method. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 61 of file simulation\+\_\+memory.\+f90.


\begin{DoxyCode}
61     \textcolor{keywordtype}{implicit none}
62     \textcolor{keywordtype}{class}(memory\_t), \textcolor{keywordtype}{intent(inout)} :: self
63     self%size\_of\_sources = 0
64     self%size\_of\_tracers = 0
65     self%size\_of\_defs = 0
66     self%size\_of\_blocks = 0
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__memory__mod_a16a7a1c7e88fe5a5523d23f83f0e04a0}\label{namespacesimulation__memory__mod_a16a7a1c7e88fe5a5523d23f83f0e04a0}} 
\index{simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}!printmemory@{printmemory}}
\index{printmemory@{printmemory}!simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}}
\subsubsection{\texorpdfstring{printmemory()}{printmemory()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+memory\+\_\+mod\+::printmemory (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Method to print the total allocated memory. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 161 of file simulation\+\_\+memory.\+f90.


\begin{DoxyCode}
161     \textcolor{keywordtype}{implicit none}
162     \textcolor{keywordtype}{class}(memory\_t), \textcolor{keywordtype}{intent(inout)} :: self
163     \textcolor{keywordtype}{integer} :: size
164     \textcolor{keywordtype}{real(prec)} :: sizemb
165     \textcolor{keywordtype}{type}(string) :: outext,temp
166     \textcolor{keyword}{call }self%getotal(size)
167     sizemb = size*1e-6
168     temp= sizemb
169     outext=\textcolor{stringliteral}{'->Total allocated memory: '}//temp//\textcolor{stringliteral}{' mb'}
170     \textcolor{keyword}{call }log%put(outext)    
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__memory__mod_a894bd4ec7462fd634d328ee5be4c6483}\label{namespacesimulation__memory__mod_a894bd4ec7462fd634d328ee5be4c6483}} 
\index{simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}!printmemorydetailed@{printmemorydetailed}}
\index{printmemorydetailed@{printmemorydetailed}!simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}}
\subsubsection{\texorpdfstring{printmemorydetailed()}{printmemorydetailed()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+memory\+\_\+mod\+::printmemorydetailed (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Private method to print the allocated memory. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 181 of file simulation\+\_\+memory.\+f90.


\begin{DoxyCode}
181     \textcolor{keywordtype}{implicit none}
182     \textcolor{keywordtype}{class}(memory\_t), \textcolor{keywordtype}{intent(inout)} :: self
183     \textcolor{keywordtype}{integer} :: size
184     \textcolor{keywordtype}{real(prec)} :: sizemb
185     \textcolor{keywordtype}{type}(string) :: outext,temp(5)
186 
187     \textcolor{keyword}{call }self%getotal(size)
188     sizemb = size*1e-6
189     temp(1)= sizemb
190     sizemb = self%size\_of\_sources*1e-6
191     temp(2)= sizemb
192     sizemb = self%size\_of\_tracers*1e-6
193     temp(3)= sizemb
194     sizemb = self%size\_of\_defs*1e-6
195     temp(4)= sizemb
196     sizemb = self%size\_of\_blocks*1e-6
197     temp(5)= sizemb
198 
199     outext=\textcolor{stringliteral}{'->Total allocated memory: '}//temp(1)//\textcolor{stringliteral}{' mb'}//new\_line(\textcolor{stringliteral}{'a'})//&
200         \textcolor{stringliteral}{'       Allocated memory for Blocks  = '}//temp(5)//\textcolor{stringliteral}{' mb'}//new\_line(\textcolor{stringliteral}{'a'})//&
201         \textcolor{stringliteral}{'       Allocated memory for Sources = '}//temp(2)//\textcolor{stringliteral}{' mb'}//new\_line(\textcolor{stringliteral}{'a'})//&
202         \textcolor{stringliteral}{'       Allocated memory for Tracers = '}//temp(3)//\textcolor{stringliteral}{' mb'}//new\_line(\textcolor{stringliteral}{'a'})//&
203         \textcolor{stringliteral}{'       Allocated memory for Consts  = '}//temp(4)//\textcolor{stringliteral}{' mb'}
204     \textcolor{keyword}{call }log%put(outext)
205 
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__memory__mod_a5f95539e9740401e7046b79c40ad2ecd}\label{namespacesimulation__memory__mod_a5f95539e9740401e7046b79c40ad2ecd}} 
\index{simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}!removetracer@{removetracer}}
\index{removetracer@{removetracer}!simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}}
\subsubsection{\texorpdfstring{removetracer()}{removetracer()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+memory\+\_\+mod\+::removetracer (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}), intent(inout)}]{self,  }\item[{integer, intent(in)}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Private method to remove the size of a Tracer from the memory log. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 133 of file simulation\+\_\+memory.\+f90.


\begin{DoxyCode}
133     \textcolor{keywordtype}{implicit none}
134     \textcolor{keywordtype}{class}(memory\_t), \textcolor{keywordtype}{intent(inout)} :: self
135     \textcolor{keywordtype}{integer}, \textcolor{keywordtype}{intent(in)} :: size
136     self%size\_of\_tracers = self%size\_of\_tracers - \textcolor{keyword}{size}
\end{DoxyCode}


\subsection{Variable Documentation}
\mbox{\Hypertarget{namespacesimulation__memory__mod_af3e2714796469b4b1ec247569b184088}\label{namespacesimulation__memory__mod_af3e2714796469b4b1ec247569b184088}} 
\index{simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}!simmemory@{simmemory}}
\index{simmemory@{simmemory}!simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}}
\subsubsection{\texorpdfstring{simmemory}{simmemory}}
{\footnotesize\ttfamily type(\mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}), public simulation\+\_\+memory\+\_\+mod\+::simmemory}



Definition at line 46 of file simulation\+\_\+memory.\+f90.


\begin{DoxyCode}
46     \textcolor{keywordtype}{type}(memory\_t) :: SimMemory
\end{DoxyCode}
