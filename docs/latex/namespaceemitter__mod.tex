\hypertarget{namespaceemitter__mod}{}\section{emitter\+\_\+mod Module Reference}
\label{namespaceemitter__mod}\index{emitter\+\_\+mod@{emitter\+\_\+mod}}


Module that defines an emitter class and related methods. This module is responsible for building a potential tracer list based on the availble sources and calling their initializers.  


\subsection*{Data Types}
\begin{DoxyCompactItemize}
\item 
type \mbox{\hyperlink{structemitter__mod_1_1emitter__class}{emitter\+\_\+class}}
\end{DoxyCompactItemize}
\subsection*{Functions/\+Subroutines}
\begin{DoxyCompactItemize}
\item 
subroutine \mbox{\hyperlink{namespaceemitter__mod_a6376ad0f8e1739b29caf672aa0750373}{initializeemitter}} (self)
\begin{DoxyCompactList}\small\item\em method that initializes an emmiter class object. Sets default values \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespaceemitter__mod_ab704fb0e2eb9b3b4b9542706b6fb4eaf}{addsource}} (self, src)
\begin{DoxyCompactList}\small\item\em method to compute the total emittable particles per source and allocate that space in the Blocks Tracer array \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespaceemitter__mod_a49b704640270da1c4fad50fcd5374376}{removesource}} (self, src)
\begin{DoxyCompactList}\small\item\em method to remove from the total emittable particles count a Source \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespaceemitter__mod_aae156a463b225044bc10f039ede5770d}{emitt}} (self, src)
\begin{DoxyCompactList}\small\item\em method that emitts the Tracers, based on the Sources on this Block Emitter \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespaceemitter__mod_a5c219dd6692a761ad4bf968ae750fcc6}{setotalnp}} (src)
\begin{DoxyCompactList}\small\item\em private routine that returns the total number of tracers an input source will potentially create \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Module that defines an emitter class and related methods. This module is responsible for building a potential tracer list based on the availble sources and calling their initializers. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas 
\end{DoxyAuthor}


\subsection{Function/\+Subroutine Documentation}
\mbox{\Hypertarget{namespaceemitter__mod_ab704fb0e2eb9b3b4b9542706b6fb4eaf}\label{namespaceemitter__mod_ab704fb0e2eb9b3b4b9542706b6fb4eaf}} 
\index{emitter\+\_\+mod@{emitter\+\_\+mod}!addsource@{addsource}}
\index{addsource@{addsource}!emitter\+\_\+mod@{emitter\+\_\+mod}}
\subsubsection{\texorpdfstring{addsource()}{addsource()}}
{\footnotesize\ttfamily subroutine emitter\+\_\+mod\+::addsource (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structemitter__mod_1_1emitter__class}{emitter\+\_\+class}}), intent(inout)}]{self,  }\item[{class(\mbox{\hyperlink{structsources__mod_1_1source__class}{source\+\_\+class}}), intent(inout)}]{src }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



method to compute the total emittable particles per source and allocate that space in the Blocks Tracer array 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em self,src} & \\
\hline
\end{DoxyParams}


Definition at line 76 of file emitter.\+f90.


\begin{DoxyCode}
76     \textcolor{keywordtype}{implicit none}
77     \textcolor{keywordtype}{class}(emitter\_class), \textcolor{keywordtype}{intent(inout)} :: self
78     \textcolor{keywordtype}{class}(source\_class),\textcolor{keywordtype}{intent(inout)} :: src
79     \textcolor{keyword}{call }setotalnp(src) \textcolor{comment}{!finding the total tracers this Source will pass the emmiter}
80     self%emittable = self%emittable + src%stencil%total\_np
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespaceemitter__mod_ab704fb0e2eb9b3b4b9542706b6fb4eaf_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespaceemitter__mod_aae156a463b225044bc10f039ede5770d}\label{namespaceemitter__mod_aae156a463b225044bc10f039ede5770d}} 
\index{emitter\+\_\+mod@{emitter\+\_\+mod}!emitt@{emitt}}
\index{emitt@{emitt}!emitter\+\_\+mod@{emitter\+\_\+mod}}
\subsubsection{\texorpdfstring{emitt()}{emitt()}}
{\footnotesize\ttfamily subroutine emitter\+\_\+mod\+::emitt (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structemitter__mod_1_1emitter__class}{emitter\+\_\+class}}), intent(inout)}]{self,  }\item[{class(\mbox{\hyperlink{structsources__mod_1_1source__class}{source\+\_\+class}}), intent(inout)}]{src }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



method that emitts the Tracers, based on the Sources on this Block Emitter 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em self} & \\
\hline
\end{DoxyParams}


Definition at line 109 of file emitter.\+f90.


\begin{DoxyCode}
109     \textcolor{keywordtype}{implicit none}
110     \textcolor{keywordtype}{class}(emitter\_class), \textcolor{keywordtype}{intent(inout)} :: self
111     \textcolor{keywordtype}{class}(source\_class), \textcolor{keywordtype}{intent(inout)} :: src
112     \textcolor{keywordtype}{integer} err
113     \textcolor{keywordtype}{type}(string) :: outext, temp
114 
115     \textcolor{keywordflow}{if} (self%emittable .le. 0) \textcolor{keywordflow}{then}
116         \textcolor{comment}{!nothing to do as we have no Sources or no emittable Tracers}
117     \textcolor{keywordflow}{else}
118         
119         
120         \textcolor{comment}{!allocate(Tracer(self%emittable), stat=err)}
121         \textcolor{comment}{!if(err/=0)then}
122         \textcolor{comment}{!    outext='[Emitter::alloctracers]: Cannot allocate Tracers, stoping'}
123         \textcolor{comment}{!    call Log%put(outext)}
124         \textcolor{comment}{!    stop}
125         \textcolor{comment}{!endif}
126 \textcolor{keywordflow}{    endif}
127 
128     \textcolor{comment}{!temp = size(Tracer)}
129     \textcolor{comment}{!outext='Allocated '// temp // ' Tracers.'}
130     \textcolor{comment}{!call Log%put(outext)}
131     \textcolor{comment}{!!receiving Sources as argument so latter we can differentiate between tracer types}
132 
\end{DoxyCode}
\mbox{\Hypertarget{namespaceemitter__mod_a6376ad0f8e1739b29caf672aa0750373}\label{namespaceemitter__mod_a6376ad0f8e1739b29caf672aa0750373}} 
\index{emitter\+\_\+mod@{emitter\+\_\+mod}!initializeemitter@{initializeemitter}}
\index{initializeemitter@{initializeemitter}!emitter\+\_\+mod@{emitter\+\_\+mod}}
\subsubsection{\texorpdfstring{initializeemitter()}{initializeemitter()}}
{\footnotesize\ttfamily subroutine emitter\+\_\+mod\+::initializeemitter (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structemitter__mod_1_1emitter__class}{emitter\+\_\+class}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



method that initializes an emmiter class object. Sets default values 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em self} & \\
\hline
\end{DoxyParams}


Definition at line 59 of file emitter.\+f90.


\begin{DoxyCode}
59     \textcolor{keywordtype}{implicit none}
60     \textcolor{keywordtype}{class}(emitter\_class), \textcolor{keywordtype}{intent(inout)} :: self
61     self%emitted = 0
62     self%emittable = 0
\end{DoxyCode}
\mbox{\Hypertarget{namespaceemitter__mod_a49b704640270da1c4fad50fcd5374376}\label{namespaceemitter__mod_a49b704640270da1c4fad50fcd5374376}} 
\index{emitter\+\_\+mod@{emitter\+\_\+mod}!removesource@{removesource}}
\index{removesource@{removesource}!emitter\+\_\+mod@{emitter\+\_\+mod}}
\subsubsection{\texorpdfstring{removesource()}{removesource()}}
{\footnotesize\ttfamily subroutine emitter\+\_\+mod\+::removesource (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structemitter__mod_1_1emitter__class}{emitter\+\_\+class}}), intent(inout)}]{self,  }\item[{class(\mbox{\hyperlink{structsources__mod_1_1source__class}{source\+\_\+class}}), intent(inout)}]{src }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



method to remove from the total emittable particles count a Source 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em self,src} & \\
\hline
\end{DoxyParams}


Definition at line 93 of file emitter.\+f90.


\begin{DoxyCode}
93     \textcolor{keywordtype}{implicit none}
94     \textcolor{keywordtype}{class}(emitter\_class), \textcolor{keywordtype}{intent(inout)} :: self
95     \textcolor{keywordtype}{class}(source\_class),\textcolor{keywordtype}{intent(inout)} :: src
96     self%emittable = self%emittable - src%stencil%total\_np
\end{DoxyCode}
\mbox{\Hypertarget{namespaceemitter__mod_a5c219dd6692a761ad4bf968ae750fcc6}\label{namespaceemitter__mod_a5c219dd6692a761ad4bf968ae750fcc6}} 
\index{emitter\+\_\+mod@{emitter\+\_\+mod}!setotalnp@{setotalnp}}
\index{setotalnp@{setotalnp}!emitter\+\_\+mod@{emitter\+\_\+mod}}
\subsubsection{\texorpdfstring{setotalnp()}{setotalnp()}}
{\footnotesize\ttfamily subroutine emitter\+\_\+mod\+::setotalnp (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsources__mod_1_1source__class}{source\+\_\+class}}), intent(inout)}]{src }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



private routine that returns the total number of tracers an input source will potentially create 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em src} & \\
\hline
\end{DoxyParams}
${NP}_{total}^{source-i}=(T_{end}^{source-i}-T_{start}^{source-i})*{Rate}^{source-i}*{NP}_{emission}^{source-i}$ 

Definition at line 180 of file emitter.\+f90.


\begin{DoxyCode}
180     \textcolor{keywordtype}{implicit none}
181     \textcolor{keywordtype}{class}(source\_class), \textcolor{keywordtype}{intent(inout)} :: src
183     src%stencil%total\_np=(src%par%stoptime-src%par%startime)*src%par%emitting\_rate*src%stencil%np
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespaceemitter__mod_a5c219dd6692a761ad4bf968ae750fcc6_icgraph}
\end{center}
\end{figure}
