\hypertarget{namespacesimulation__globals__mod}{}\section{simulation\+\_\+globals\+\_\+mod Module Reference}
\label{namespacesimulation__globals__mod}\index{simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}}


Module to hold the simulation global parameter classes and their methods.  


\subsection*{Data Types}
\begin{DoxyCompactItemize}
\item 
type \mbox{\hyperlink{structsimulation__globals__mod_1_1constants__t}{constants\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Case Constants class. \end{DoxyCompactList}\item 
type \mbox{\hyperlink{structsimulation__globals__mod_1_1filenames__t}{filenames\+\_\+t}}
\begin{DoxyCompactList}\small\item\em File names class. \end{DoxyCompactList}\item 
type \mbox{\hyperlink{structsimulation__globals__mod_1_1globals__class}{globals\+\_\+class}}
\begin{DoxyCompactList}\small\item\em Globals class -\/ This is a container for every global variable on the simulation. \end{DoxyCompactList}\item 
type \mbox{\hyperlink{structsimulation__globals__mod_1_1parameters__t}{parameters\+\_\+t}}
\item 
type \mbox{\hyperlink{structsimulation__globals__mod_1_1simdefs__t}{simdefs\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Simulation definitions class. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions/\+Subroutines}
\begin{DoxyCompactItemize}
\item 
subroutine \mbox{\hyperlink{namespacesimulation__globals__mod_ac2ac06271de377004c67b6ba2f3ed353}{setdefaults}} (self)
\begin{DoxyCompactList}\small\item\em Globals default setting routine. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__globals__mod_a8a05831d4c3e3eb5741d65978f6fcf61}{setparameter}} (self, parmkey, parmvalue)
\begin{DoxyCompactList}\small\item\em Private parameter setting method. Builds the simulation parametric space from the input case file. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__globals__mod_a41249abb5c33ef9e8bff448f0b3826fa}{check}} (self)
\begin{DoxyCompactList}\small\item\em Parameter checking method. Checks if mandatory parameters were set. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__globals__mod_a97c04d0289a9f2d004a9329cb7ab16f0}{printsimparameters}} (self)
\begin{DoxyCompactList}\small\item\em Parameter printing method. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__globals__mod_a68e871ed8e5d3930884e968c6fdafddc}{getintegratorname}} (name, code)
\begin{DoxyCompactList}\small\item\em Routine to get integrator scheme name. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__globals__mod_a9e92dfed4ef7388208adce768f064554}{setgravity}} (self, grav)
\begin{DoxyCompactList}\small\item\em Gravity setting routine. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__globals__mod_a64b1d91147c1cd5898fec8f23d56a65d}{setz0}} (self, read\+\_\+z0)
\begin{DoxyCompactList}\small\item\em Z0 setting routine. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__globals__mod_a68a87c39cf88bad353e28e367a721ed4}{setrho}} (self, read\+\_\+rho)
\begin{DoxyCompactList}\small\item\em Rho\+\_\+\+Ref setting routine. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__globals__mod_a20ba28d72a9bea823d9373a94f97026e}{printconstants}} (self)
\begin{DoxyCompactList}\small\item\em Public constants printing routine. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__globals__mod_acb8e3762572266b40a0deb166dded33a}{setdp}} (self, read\+\_\+dp)
\begin{DoxyCompactList}\small\item\em Dp setting routine. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__globals__mod_aecf75eeccef4eeae6d10ab26cf2dcfcf}{setdt}} (self, read\+\_\+dt)
\begin{DoxyCompactList}\small\item\em Dt setting routine. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__globals__mod_a412b0779703630189e2ea14e4b390864}{setboundingbox}} (self, point\+\_\+, coords)
\begin{DoxyCompactList}\small\item\em Bounding box setting routine. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__globals__mod_aa65b43534d2d2b6366a4ebc791194805}{setblocksize}} (self, bsize)
\begin{DoxyCompactList}\small\item\em blocksize box setting routine. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__globals__mod_ad331ccf019de7ed531e37c655600f90f}{printsimdefs}} (self)
\begin{DoxyCompactList}\small\item\em Public simulation definitions printing routine. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
type(\mbox{\hyperlink{structsimulation__globals__mod_1_1globals__class}{globals\+\_\+class}}), public \mbox{\hyperlink{namespacesimulation__globals__mod_a04123075b6de525703edb89697fc39e9}{globals}}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Module to hold the simulation global parameter classes and their methods. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas 
\end{DoxyAuthor}


\subsection{Function/\+Subroutine Documentation}
\mbox{\Hypertarget{namespacesimulation__globals__mod_a41249abb5c33ef9e8bff448f0b3826fa}\label{namespacesimulation__globals__mod_a41249abb5c33ef9e8bff448f0b3826fa}} 
\index{simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}!check@{check}}
\index{check@{check}!simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}}
\subsubsection{\texorpdfstring{check()}{check()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+globals\+\_\+mod\+::check (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__globals__mod_1_1parameters__t}{parameters\+\_\+t}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Parameter checking method. Checks if mandatory parameters were set. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 215 of file simulation\+\_\+globals.\+f90.


\begin{DoxyCode}
215     \textcolor{keywordtype}{implicit none}
216     \textcolor{keywordtype}{class}(parameters\_t), \textcolor{keywordtype}{intent(inout)} :: self
217     \textcolor{keywordtype}{type}(string) :: outext
218     \textcolor{keywordtype}{type}(datetime) :: temp
219     \textcolor{keywordtype}{type}(timedelta) :: simtime
220 
221     temp = datetime() \textcolor{comment}{!default initialization}
222     \textcolor{comment}{!add new parameters to this search}
223     \textcolor{keywordflow}{if} (self%TimeOut==mv) \textcolor{keywordflow}{then}
224         outext = \textcolor{stringliteral}{'Simulation sampling rate parameter (TimeOut) is not set, stoping'}
225         \textcolor{keyword}{call }log%put(outext)
226         stop
227     \textcolor{keywordflow}{elseif} (self%StartTime==temp) \textcolor{keywordflow}{then}
228         outext = \textcolor{stringliteral}{'Simulation start time parameter (StartTime) is not set or invalid, stoping'}
229         \textcolor{keyword}{call }log%put(outext)
230         stop
231     \textcolor{keywordflow}{elseif} (self%EndTime==temp) \textcolor{keywordflow}{then}
232         outext = \textcolor{stringliteral}{'Simulation end time parameter (EndTime) is not set or invalid, stoping'}
233         \textcolor{keyword}{call }log%put(outext)
234         stop
235 \textcolor{keywordflow}{    endif}
236     \textcolor{comment}{!Build timemax from the difference between start and end time}
237     simtime = self%EndTime - self%StartTime
238     self%TimeMax = simtime%total\_seconds()
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__globals__mod_a68e871ed8e5d3930884e968c6fdafddc}\label{namespacesimulation__globals__mod_a68e871ed8e5d3930884e968c6fdafddc}} 
\index{simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}!getintegratorname@{getintegratorname}}
\index{getintegratorname@{getintegratorname}!simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}}
\subsubsection{\texorpdfstring{getintegratorname()}{getintegratorname()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+globals\+\_\+mod\+::getintegratorname (\begin{DoxyParamCaption}\item[{type(string), intent(inout)}]{name,  }\item[{integer, intent(in)}]{code }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Routine to get integrator scheme name. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 281 of file simulation\+\_\+globals.\+f90.


\begin{DoxyCode}
281     \textcolor{keywordtype}{implicit none}
282     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{intent(inout)} :: name
283     \textcolor{keywordtype}{integer}, \textcolor{keywordtype}{intent(in)} :: code
284     \textcolor{keywordflow}{if} (code==1) \textcolor{keywordflow}{then}
285         name=\textcolor{stringliteral}{'Verlet'}
286     \textcolor{keywordflow}{elseif}(code==2)\textcolor{keywordflow}{then}
287         name=\textcolor{stringliteral}{'Symplectic'}
288     \textcolor{keywordflow}{elseif}(code==3)\textcolor{keywordflow}{then}
289         name=\textcolor{stringliteral}{'Runge-Kuta 4'}
290 \textcolor{keywordflow}{    endif}
\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacesimulation__globals__mod_a68e871ed8e5d3930884e968c6fdafddc_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacesimulation__globals__mod_a20ba28d72a9bea823d9373a94f97026e}\label{namespacesimulation__globals__mod_a20ba28d72a9bea823d9373a94f97026e}} 
\index{simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}!printconstants@{printconstants}}
\index{printconstants@{printconstants}!simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}}
\subsubsection{\texorpdfstring{printconstants()}{printconstants()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+globals\+\_\+mod\+::printconstants (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__globals__mod_1_1constants__t}{constants\+\_\+t}}), intent(in)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Public constants printing routine. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 370 of file simulation\+\_\+globals.\+f90.


\begin{DoxyCode}
370     \textcolor{keywordtype}{implicit none}
371     \textcolor{keywordtype}{class}(constants\_t), \textcolor{keywordtype}{intent(in)} :: self
372     \textcolor{keywordtype}{type}(string) :: outext
373     \textcolor{keywordtype}{type}(string) :: temp\_str(3)
374 
375     temp\_str(1)=self%Gravity%x
376     temp\_str(2)=self%Gravity%y
377     temp\_str(3)=self%Gravity%z
378     outext = \textcolor{stringliteral}{'      Gravity is '}//new\_line(\textcolor{stringliteral}{'a'})//&
379         \textcolor{stringliteral}{'       '}//temp\_str(1)//\textcolor{stringliteral}{' '}//temp\_str(2)//\textcolor{stringliteral}{' '}//temp\_str(3)//new\_line(\textcolor{stringliteral}{'a'})
380     temp\_str(1)=self%Z0
381     outext = outext//\textcolor{stringliteral}{'       Z0 = '}//temp\_str(1)//\textcolor{stringliteral}{' m'}//new\_line(\textcolor{stringliteral}{'a'})
382     temp\_str(1)=self%Rho\_ref
383     outext = outext//\textcolor{stringliteral}{'       Rho\_ref = '}//temp\_str(1)//\textcolor{stringliteral}{' kg/m^3'}
384 
385     \textcolor{keyword}{call }log%put(outext,.false.)
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__globals__mod_ad331ccf019de7ed531e37c655600f90f}\label{namespacesimulation__globals__mod_ad331ccf019de7ed531e37c655600f90f}} 
\index{simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}!printsimdefs@{printsimdefs}}
\index{printsimdefs@{printsimdefs}!simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}}
\subsubsection{\texorpdfstring{printsimdefs()}{printsimdefs()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+globals\+\_\+mod\+::printsimdefs (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__globals__mod_1_1simdefs__t}{simdefs\+\_\+t}}), intent(in)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Public simulation definitions printing routine. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 489 of file simulation\+\_\+globals.\+f90.


\begin{DoxyCode}
489     \textcolor{keywordtype}{implicit none}
490     \textcolor{keywordtype}{class}(simdefs\_t), \textcolor{keywordtype}{intent(in)} :: self
491     \textcolor{keywordtype}{type}(string) :: outext
492     \textcolor{keywordtype}{type}(string) :: temp\_str(3)
493 
494     temp\_str(1)=self%Dp
495     outext = \textcolor{stringliteral}{'      Initial resolution is '}//temp\_str(1)//\textcolor{stringliteral}{' m'}//new\_line(\textcolor{stringliteral}{'a'})
496     temp\_str(1)=self%dt
497     outext = \textcolor{stringliteral}{'      Timestep is '}//temp\_str(1)//\textcolor{stringliteral}{' s'}//new\_line(\textcolor{stringliteral}{'a'})
498     temp\_str(1)=self%Pointmin%x
499     temp\_str(2)=self%Pointmin%y
500     temp\_str(3)=self%Pointmin%z
501     outext = outext//\textcolor{stringliteral}{'       Pointmin (BB) is '}//new\_line(\textcolor{stringliteral}{'a'})//&
502         \textcolor{stringliteral}{'       '}//temp\_str(1)//\textcolor{stringliteral}{' '}//temp\_str(2)//\textcolor{stringliteral}{' '}//temp\_str(3)//new\_line(\textcolor{stringliteral}{'a'})
503     temp\_str(1)=self%Pointmax%x
504     temp\_str(2)=self%Pointmax%y
505     temp\_str(3)=self%Pointmax%z
506     outext = outext//\textcolor{stringliteral}{'       Pointmax (BB) is '}//new\_line(\textcolor{stringliteral}{'a'})//&
507         \textcolor{stringliteral}{'       '}//temp\_str(1)//\textcolor{stringliteral}{' '}//temp\_str(2)//\textcolor{stringliteral}{' '}//temp\_str(3)//new\_line(\textcolor{stringliteral}{'a'})
508     temp\_str(1)=self%blocksize%x
509     temp\_str(2)=self%blocksize%y
510     outext = outext//\textcolor{stringliteral}{'       Blocks are sized '}//new\_line(\textcolor{stringliteral}{'a'})//&
511         \textcolor{stringliteral}{'       '}//temp\_str(1)//\textcolor{stringliteral}{' X '}//temp\_str(2)
512 
513     \textcolor{keyword}{call }log%put(outext,.false.)
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__globals__mod_a97c04d0289a9f2d004a9329cb7ab16f0}\label{namespacesimulation__globals__mod_a97c04d0289a9f2d004a9329cb7ab16f0}} 
\index{simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}!printsimparameters@{printsimparameters}}
\index{printsimparameters@{printsimparameters}!simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}}
\subsubsection{\texorpdfstring{printsimparameters()}{printsimparameters()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+globals\+\_\+mod\+::printsimparameters (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__globals__mod_1_1parameters__t}{parameters\+\_\+t}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Parameter printing method. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 249 of file simulation\+\_\+globals.\+f90.


\begin{DoxyCode}
249     \textcolor{keywordtype}{implicit none}
250     \textcolor{keywordtype}{class}(parameters\_t), \textcolor{keywordtype}{intent(inout)} :: self
251     \textcolor{keywordtype}{type}(string) :: outext
252     \textcolor{keywordtype}{type}(string) :: temp\_str
253     \textcolor{keywordtype}{character(len=23)} :: temp\_char
254     \textcolor{keyword}{call }getintegratorname(temp\_str,self%Integrator)
255     outext = \textcolor{stringliteral}{'      Integrator scheme is '}//temp\_str//new\_line(\textcolor{stringliteral}{'a'})
256     temp\_str=self%CFL
257     outext = outext//\textcolor{stringliteral}{'       CFL = '}//temp\_str//new\_line(\textcolor{stringliteral}{'a'})
258     temp\_str=self%WarmUpTime
259     outext = outext//\textcolor{stringliteral}{'       WarmUpTime = '}//temp\_str//\textcolor{stringliteral}{' s'}//new\_line(\textcolor{stringliteral}{'a'})
260     temp\_str=self%TimeOut
261     outext = outext//\textcolor{stringliteral}{'       TimeOut = '}//temp\_str//\textcolor{stringliteral}{' Hz'}//new\_line(\textcolor{stringliteral}{'a'})
262     temp\_char = self%StartTime%isoformat(\textcolor{stringliteral}{' '})
263     temp\_str = temp\_char
264     outext = outext//\textcolor{stringliteral}{'       StartTime = '}//temp\_str//new\_line(\textcolor{stringliteral}{'a'})
265     temp\_char = self%EndTime%isoformat(\textcolor{stringliteral}{' '})
266     temp\_str = temp\_char
267     outext = outext//\textcolor{stringliteral}{'       EndTime   = '}//temp\_str//new\_line(\textcolor{stringliteral}{'a'})
268     temp\_str=self%TimeMax
269     outext = outext//\textcolor{stringliteral}{'       Simulation will run for '}//temp\_str//\textcolor{stringliteral}{' s'}
270     \textcolor{keyword}{call }log%put(outext,.false.)
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacesimulation__globals__mod_a97c04d0289a9f2d004a9329cb7ab16f0_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacesimulation__globals__mod_aa65b43534d2d2b6366a4ebc791194805}\label{namespacesimulation__globals__mod_aa65b43534d2d2b6366a4ebc791194805}} 
\index{simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}!setblocksize@{setblocksize}}
\index{setblocksize@{setblocksize}!simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}}
\subsubsection{\texorpdfstring{setblocksize()}{setblocksize()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+globals\+\_\+mod\+::setblocksize (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__globals__mod_1_1simdefs__t}{simdefs\+\_\+t}}), intent(inout)}]{self,  }\item[{type(vector)}]{bsize }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



blocksize box setting routine. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em bsize} & \\
\hline
\end{DoxyParams}


Definition at line 472 of file simulation\+\_\+globals.\+f90.


\begin{DoxyCode}
472     \textcolor{keywordtype}{implicit none}
473     \textcolor{keywordtype}{class}(simdefs\_t), \textcolor{keywordtype}{intent(inout)} :: self
474     \textcolor{keywordtype}{type}(vector) :: bsize
475     \textcolor{keywordtype}{integer} :: sizem
476     self%blocksize = bsize
477     sizem = sizeof(bsize)
478     \textcolor{keyword}{call }simmemory%adddef(sizem)
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__globals__mod_a412b0779703630189e2ea14e4b390864}\label{namespacesimulation__globals__mod_a412b0779703630189e2ea14e4b390864}} 
\index{simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}!setboundingbox@{setboundingbox}}
\index{setboundingbox@{setboundingbox}!simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}}
\subsubsection{\texorpdfstring{setboundingbox()}{setboundingbox()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+globals\+\_\+mod\+::setboundingbox (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__globals__mod_1_1simdefs__t}{simdefs\+\_\+t}}), intent(inout)}]{self,  }\item[{type(string), intent(in)}]{point\+\_\+,  }\item[{type(vector)}]{coords }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Bounding box setting routine. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em point\+\_\+,coords} & \\
\hline
\end{DoxyParams}


Definition at line 448 of file simulation\+\_\+globals.\+f90.


\begin{DoxyCode}
448     \textcolor{keywordtype}{implicit none}
449     \textcolor{keywordtype}{class}(simdefs\_t), \textcolor{keywordtype}{intent(inout)} :: self
450     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{intent(in)} :: point\_
451     \textcolor{keywordtype}{type}(vector) :: coords
452     \textcolor{keywordtype}{integer} :: sizem
453     \textcolor{keywordflow}{if} (point\_%chars() == \textcolor{stringliteral}{"pointmin"}) \textcolor{keywordflow}{then}
454         self%Pointmin= coords
455     \textcolor{keywordflow}{elseif} (point\_%chars() == \textcolor{stringliteral}{"pointmax"}) \textcolor{keywordflow}{then}
456         self%Pointmax= coords
457 \textcolor{keywordflow}{    endif}
458     sizem=sizeof(coords)
459     \textcolor{keyword}{call }simmemory%adddef(sizem)
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__globals__mod_ac2ac06271de377004c67b6ba2f3ed353}\label{namespacesimulation__globals__mod_ac2ac06271de377004c67b6ba2f3ed353}} 
\index{simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}!setdefaults@{setdefaults}}
\index{setdefaults@{setdefaults}!simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}}
\subsubsection{\texorpdfstring{setdefaults()}{setdefaults()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+globals\+\_\+mod\+::setdefaults (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__globals__mod_1_1globals__class}{globals\+\_\+class}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Globals default setting routine. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 107 of file simulation\+\_\+globals.\+f90.


\begin{DoxyCode}
107       \textcolor{keywordtype}{implicit none}
108       \textcolor{keywordtype}{class}(globals\_class), \textcolor{keywordtype}{intent(inout)} :: self
109       \textcolor{keywordtype}{integer} :: sizem
110       \textcolor{comment}{!parameters}
111       self%Parameters%Integrator = 1
112       self%Parameters%CFL = 0.5
113       self%Parameters%WarmUpTime = 0.0
114       self%Parameters%TimeOut = mv
115       self%Parameters%TimeOut = mv
116       self%Parameters%StartTime = datetime()
117       self%Parameters%EndTime = datetime()
118       \textcolor{comment}{!Simulation definitions}
119       self%SimDefs%autoblocksize =.true.
120       self%SimDefs%blocksize = 0.0
121       self%SimDefs%numblocks = 16  \textcolor{comment}{!placeholder number, should be numThreads or numProcesses or computed by
       user dimensions}
122       self%SimDefs%Dp = mv
123       self%SimDefs%dt = mv
124       self%SimDefs%Pointmin = 0.0
125       self%SimDefs%Pointmax = 0.0
126       \textcolor{comment}{!simulation constants}
127       self%Constants%Gravity= 0.0*ex + 0.0*ey -9.81*ez
128       self%Constants%Z0 = 0.0
129       self%Constants%Rho\_ref = 1000.0
130       \textcolor{comment}{!filenames}
131       self%FileNames%mainxmlfilename = \textcolor{stringliteral}{'not\_set'}
132       self%FileNames%propsxmlfilename = \textcolor{stringliteral}{'not\_set'}
133       self%FileNames%tempfilename = \textcolor{stringliteral}{'not\_set'}
134       \textcolor{comment}{!global time}
135       self%SimTime = 0.0
136 
137       sizem=sizeof(self)
138       \textcolor{keyword}{call }simmemory%adddef(sizem)
139 
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__globals__mod_acb8e3762572266b40a0deb166dded33a}\label{namespacesimulation__globals__mod_acb8e3762572266b40a0deb166dded33a}} 
\index{simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}!setdp@{setdp}}
\index{setdp@{setdp}!simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}}
\subsubsection{\texorpdfstring{setdp()}{setdp()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+globals\+\_\+mod\+::setdp (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__globals__mod_1_1simdefs__t}{simdefs\+\_\+t}}), intent(inout)}]{self,  }\item[{type(string), intent(in)}]{read\+\_\+dp }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Dp setting routine. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em read\+\_\+dp} & \\
\hline
\end{DoxyParams}


Definition at line 398 of file simulation\+\_\+globals.\+f90.


\begin{DoxyCode}
398     \textcolor{keywordtype}{implicit none}
399     \textcolor{keywordtype}{class}(simdefs\_t), \textcolor{keywordtype}{intent(inout)} :: self
400     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{intent(in)} :: read\_dp
401     \textcolor{keywordtype}{type}(string) :: outext
402     \textcolor{keywordtype}{integer} :: sizem
403     self%Dp=read\_dp%to\_number(kind=1.\_r4p)
404     \textcolor{keywordflow}{if} (self%Dp.le.0.0) \textcolor{keywordflow}{then}
405         outext=\textcolor{stringliteral}{'Dp must be positive and non-zero, stopping'}
406         \textcolor{keyword}{call }log%put(outext)
407         stop
408 \textcolor{keywordflow}{    endif}
409     sizem = sizeof(self%Dp)
410     \textcolor{keyword}{call }simmemory%adddef(sizem)
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__globals__mod_aecf75eeccef4eeae6d10ab26cf2dcfcf}\label{namespacesimulation__globals__mod_aecf75eeccef4eeae6d10ab26cf2dcfcf}} 
\index{simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}!setdt@{setdt}}
\index{setdt@{setdt}!simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}}
\subsubsection{\texorpdfstring{setdt()}{setdt()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+globals\+\_\+mod\+::setdt (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__globals__mod_1_1simdefs__t}{simdefs\+\_\+t}}), intent(inout)}]{self,  }\item[{type(string), intent(in)}]{read\+\_\+dt }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Dt setting routine. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em read\+\_\+dt} & \\
\hline
\end{DoxyParams}


Definition at line 423 of file simulation\+\_\+globals.\+f90.


\begin{DoxyCode}
423     \textcolor{keywordtype}{implicit none}
424     \textcolor{keywordtype}{class}(simdefs\_t), \textcolor{keywordtype}{intent(inout)} :: self
425     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{intent(in)} :: read\_dt
426     \textcolor{keywordtype}{type}(string) :: outext
427     \textcolor{keywordtype}{integer} :: sizem
428     self%dt=read\_dt%to\_number(kind=1.\_r4p)
429     \textcolor{keywordflow}{if} (self%dt.le.0.0) \textcolor{keywordflow}{then}
430         outext=\textcolor{stringliteral}{'dt must be positive and non-zero, stopping'}
431         \textcolor{keyword}{call }log%put(outext)
432         stop
433 \textcolor{keywordflow}{    endif}
434     sizem = sizeof(self%dt)
435     \textcolor{keyword}{call }simmemory%adddef(sizem)
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__globals__mod_a9e92dfed4ef7388208adce768f064554}\label{namespacesimulation__globals__mod_a9e92dfed4ef7388208adce768f064554}} 
\index{simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}!setgravity@{setgravity}}
\index{setgravity@{setgravity}!simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}}
\subsubsection{\texorpdfstring{setgravity()}{setgravity()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+globals\+\_\+mod\+::setgravity (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__globals__mod_1_1constants__t}{constants\+\_\+t}}), intent(inout)}]{self,  }\item[{type(vector), intent(in)}]{grav }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Gravity setting routine. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em grav} & \\
\hline
\end{DoxyParams}


Definition at line 303 of file simulation\+\_\+globals.\+f90.


\begin{DoxyCode}
303     \textcolor{keywordtype}{implicit none}
304     \textcolor{keywordtype}{class}(constants\_t), \textcolor{keywordtype}{intent(inout)} :: self
305     \textcolor{keywordtype}{type}(vector), \textcolor{keywordtype}{intent(in)} :: grav
306     \textcolor{keywordtype}{integer} :: sizem
307     \textcolor{keywordtype}{type}(string) :: outext
308     self%Gravity= grav
309     \textcolor{keywordflow}{if} (grav%x==mv) \textcolor{keywordflow}{then} \textcolor{comment}{!Gravity was not read, setting default}
310         self%Gravity= -9.81*ez
311         outext = \textcolor{stringliteral}{'       Gravity not specified, setting to default value = (0,0,-9.81)'}
312         \textcolor{keyword}{call }log%put(outext,.false.)
313 \textcolor{keywordflow}{    endif}
314     sizem=sizeof(self%Gravity)
315     \textcolor{keyword}{call }simmemory%adddef(sizem)
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__globals__mod_a8a05831d4c3e3eb5741d65978f6fcf61}\label{namespacesimulation__globals__mod_a8a05831d4c3e3eb5741d65978f6fcf61}} 
\index{simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}!setparameter@{setparameter}}
\index{setparameter@{setparameter}!simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}}
\subsubsection{\texorpdfstring{setparameter()}{setparameter()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+globals\+\_\+mod\+::setparameter (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__globals__mod_1_1parameters__t}{parameters\+\_\+t}}), intent(inout)}]{self,  }\item[{type(string), intent(in)}]{parmkey,  }\item[{type(string), intent(in)}]{parmvalue }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Private parameter setting method. Builds the simulation parametric space from the input case file. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em parmkey,parmvalue} & \\
\hline
\end{DoxyParams}


Definition at line 152 of file simulation\+\_\+globals.\+f90.


\begin{DoxyCode}
152     \textcolor{keywordtype}{implicit none}
153     \textcolor{keywordtype}{class}(parameters\_t), \textcolor{keywordtype}{intent(inout)} :: self
154     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{intent(in)} :: parmkey
155     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{intent(in)} :: parmvalue
156     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{allocatable} :: dc(:)
157     \textcolor{keywordtype}{integer} :: i, date(6)
158     \textcolor{keywordtype}{integer} :: sizem
159     \textcolor{comment}{!add new parameters to this search}
160     \textcolor{keywordflow}{if} (parmkey%chars()==\textcolor{stringliteral}{"Integrator"}) \textcolor{keywordflow}{then}
161         self%Integrator=parmvalue%to\_number(kind=1\_i1p)
162         sizem=sizeof(self%Integrator)
163     \textcolor{keywordflow}{elseif}(parmkey%chars()==\textcolor{stringliteral}{"CFL"}) \textcolor{keywordflow}{then}
164         self%CFL=parmvalue%to\_number(kind=1.\_r4p)
165         sizem=sizeof(self%CFL)
166     \textcolor{keywordflow}{elseif}(parmkey%chars()==\textcolor{stringliteral}{"WarmUpTime"}) \textcolor{keywordflow}{then}
167         self%WarmUpTime=parmvalue%to\_number(kind=1.\_r4p)
168         sizem=sizeof(self%WarmUpTime)
169     \textcolor{keywordflow}{elseif}(parmkey%chars()==\textcolor{stringliteral}{"TimeOut"}) \textcolor{keywordflow}{then}
170         self%TimeOut=parmvalue%to\_number(kind=1.\_r4p)
171         sizem=sizeof(self%TimeOut)
172     \textcolor{keywordflow}{elseif}(parmkey%chars()==\textcolor{stringliteral}{"StartTime"}) \textcolor{keywordflow}{then}
173         \textcolor{keyword}{call }parmvalue%split(tokens=dc, sep=\textcolor{stringliteral}{' '})
174         \textcolor{keywordflow}{if} (\textcolor{keyword}{size}(dc) == 6) \textcolor{keywordflow}{then}
175             \textcolor{keywordflow}{do} i=1, \textcolor{keyword}{size}(dc)
176                 date(i) = dc(i)%to\_number(kind=1.\_r4p)
177 \textcolor{keywordflow}{            end do}
178             self%StartTime = datetime(date(1),date(2),date(3),date(4),date(5),date(6))
179             \textcolor{keywordflow}{if} (self%StartTime%isValid()) \textcolor{keywordflow}{then}
180             \textcolor{keywordflow}{else}
181                 self%StartTime = datetime() \textcolor{comment}{!reseting to default so it is caught later on}
182 \textcolor{keywordflow}{            end if}
183             sizem=sizeof(self%StartTime)
184         \textcolor{keywordflow}{else}
185             stop \textcolor{stringliteral}{'[Globals::setparameter] StartTime parameter not in correct format. Eg. "2009 3 1 0 0 0"'}
186 \textcolor{keywordflow}{        end if}
187     \textcolor{keywordflow}{elseif}(parmkey%chars()==\textcolor{stringliteral}{"EndTime"}) \textcolor{keywordflow}{then}
188         \textcolor{keyword}{call }parmvalue%split(tokens=dc, sep=\textcolor{stringliteral}{' '})
189         \textcolor{keywordflow}{if} (\textcolor{keyword}{size}(dc) == 6) \textcolor{keywordflow}{then}
190             \textcolor{keywordflow}{do} i=1, \textcolor{keyword}{size}(dc)
191                 date(i) = dc(i)%to\_number(kind=1.\_r4p)
192 \textcolor{keywordflow}{            end do}
193             self%EndTime = datetime(date(1),date(2),date(3),date(4),date(5),date(6))
194             \textcolor{keywordflow}{if} (self%EndTime%isValid()) \textcolor{keywordflow}{then}
195             \textcolor{keywordflow}{else}
196                 self%EndTime = datetime() \textcolor{comment}{!reseting to default so it is caught later on}
197 \textcolor{keywordflow}{            end if}
198             sizem=sizeof(self%EndTime)
199         \textcolor{keywordflow}{else}
200             stop \textcolor{stringliteral}{'[Globals::setparameter] EndTime parameter not in correct format. Eg. "2009 3 1 0 0 0"'}
201 \textcolor{keywordflow}{        end if}
202 \textcolor{keywordflow}{    endif}
203     \textcolor{keyword}{call }simmemory%adddef(sizem)
204 
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__globals__mod_a68a87c39cf88bad353e28e367a721ed4}\label{namespacesimulation__globals__mod_a68a87c39cf88bad353e28e367a721ed4}} 
\index{simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}!setrho@{setrho}}
\index{setrho@{setrho}!simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}}
\subsubsection{\texorpdfstring{setrho()}{setrho()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+globals\+\_\+mod\+::setrho (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__globals__mod_1_1constants__t}{constants\+\_\+t}}), intent(inout)}]{self,  }\item[{type(string), intent(in)}]{read\+\_\+rho }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Rho\+\_\+\+Ref setting routine. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em read\+\_\+rho} & \\
\hline
\end{DoxyParams}


Definition at line 347 of file simulation\+\_\+globals.\+f90.


\begin{DoxyCode}
347     \textcolor{keywordtype}{implicit none}
348     \textcolor{keywordtype}{class}(constants\_t), \textcolor{keywordtype}{intent(inout)} :: self
349     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{intent(in)} :: read\_rho
350     \textcolor{keywordtype}{type}(string) :: outext
351     \textcolor{keywordtype}{integer} :: sizem
352     self%Rho\_ref=read\_rho%to\_number(kind=1.\_r4p)
353     \textcolor{keywordflow}{if} (self%Rho\_ref.le.0.0) \textcolor{keywordflow}{then}
354         outext=\textcolor{stringliteral}{'Rho\_ref must be positive and non-zero, stopping'}
355         \textcolor{keyword}{call }log%put(outext)
356         stop
357 \textcolor{keywordflow}{    endif}
358     sizem = sizeof(self%Rho\_ref)
359     \textcolor{keyword}{call }simmemory%adddef(sizem)
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__globals__mod_a64b1d91147c1cd5898fec8f23d56a65d}\label{namespacesimulation__globals__mod_a64b1d91147c1cd5898fec8f23d56a65d}} 
\index{simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}!setz0@{setz0}}
\index{setz0@{setz0}!simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}}
\subsubsection{\texorpdfstring{setz0()}{setz0()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+globals\+\_\+mod\+::setz0 (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__globals__mod_1_1constants__t}{constants\+\_\+t}}), intent(inout)}]{self,  }\item[{type(string), intent(in)}]{read\+\_\+z0 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Z0 setting routine. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em read\+\_\+z0} & \\
\hline
\end{DoxyParams}


Definition at line 328 of file simulation\+\_\+globals.\+f90.


\begin{DoxyCode}
328     \textcolor{keywordtype}{implicit none}
329     \textcolor{keywordtype}{class}(constants\_t), \textcolor{keywordtype}{intent(inout)} :: self
330     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{intent(in)} :: read\_z0
331     \textcolor{keywordtype}{integer} :: sizem
332     self%Z0=read\_z0%to\_number(kind=1.\_r4p)
333     sizem = sizeof(self%Z0)
334     \textcolor{keyword}{call }simmemory%adddef(sizem)
\end{DoxyCode}


\subsection{Variable Documentation}
\mbox{\Hypertarget{namespacesimulation__globals__mod_a04123075b6de525703edb89697fc39e9}\label{namespacesimulation__globals__mod_a04123075b6de525703edb89697fc39e9}} 
\index{simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}!globals@{globals}}
\index{globals@{globals}!simulation\+\_\+globals\+\_\+mod@{simulation\+\_\+globals\+\_\+mod}}
\subsubsection{\texorpdfstring{globals}{globals}}
{\footnotesize\ttfamily type(\mbox{\hyperlink{structsimulation__globals__mod_1_1globals__class}{globals\+\_\+class}}), public simulation\+\_\+globals\+\_\+mod\+::globals}



Definition at line 92 of file simulation\+\_\+globals.\+f90.


\begin{DoxyCode}
92     \textcolor{keywordtype}{type}(globals\_class) :: Globals
\end{DoxyCode}
