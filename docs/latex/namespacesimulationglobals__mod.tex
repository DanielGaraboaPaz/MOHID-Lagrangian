\hypertarget{namespacesimulationglobals__mod}{}\section{simulationglobals\+\_\+mod Module Reference}
\label{namespacesimulationglobals__mod}\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}


Module to hold the simulation global parameter classes and their methods.  


\subsection*{Data Types}
\begin{DoxyCompactItemize}
\item 
type \mbox{\hyperlink{structsimulationglobals__mod_1_1constants__t}{constants\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Case Constants class. \end{DoxyCompactList}\item 
type \mbox{\hyperlink{structsimulationglobals__mod_1_1filenames__t}{filenames\+\_\+t}}
\begin{DoxyCompactList}\small\item\em File names class. \end{DoxyCompactList}\item 
type \mbox{\hyperlink{structsimulationglobals__mod_1_1globals__class}{globals\+\_\+class}}
\begin{DoxyCompactList}\small\item\em Globals class -\/ This is a container for every global variable on the simulation. \end{DoxyCompactList}\item 
type \mbox{\hyperlink{structsimulationglobals__mod_1_1maskvals__t}{maskvals\+\_\+t}}
\item 
type \mbox{\hyperlink{structsimulationglobals__mod_1_1parameters__t}{parameters\+\_\+t}}
\item 
type \mbox{\hyperlink{structsimulationglobals__mod_1_1sim__t}{sim\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Simulation related counters and others. \end{DoxyCompactList}\item 
type \mbox{\hyperlink{structsimulationglobals__mod_1_1sim__time__t}{sim\+\_\+time\+\_\+t}}
\item 
type \mbox{\hyperlink{structsimulationglobals__mod_1_1simdefs__t}{simdefs\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Simulation definitions class. \end{DoxyCompactList}\item 
type \mbox{\hyperlink{structsimulationglobals__mod_1_1src__parm__t}{src\+\_\+parm\+\_\+t}}
\begin{DoxyCompactList}\small\item\em Lists for Source parameters. \end{DoxyCompactList}\item 
type \mbox{\hyperlink{structsimulationglobals__mod_1_1stringlist__class}{stringlist\+\_\+class}}
\item 
type \mbox{\hyperlink{structsimulationglobals__mod_1_1tracertypes__t}{tracertypes\+\_\+t}}
\item 
type \mbox{\hyperlink{structsimulationglobals__mod_1_1var__names__t}{var\+\_\+names\+\_\+t}}
\end{DoxyCompactItemize}
\subsection*{Functions/\+Subroutines}
\begin{DoxyCompactItemize}
\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_aa01e0a958ef2e94a02991dcfe390bfa0}{setdefaults}} (self, outpath)
\begin{DoxyCompactList}\small\item\em Globals default setting routine. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_a4aa829af1699c705e46f47bb023ac162}{buildvars}} (self)
\begin{DoxyCompactList}\small\item\em Builds variable list names. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_afd372c5764a180f9029d4dc3cddce94d}{addvar}} (self, var)
\begin{DoxyCompactList}\small\item\em adding variables to variable pool of a simulation \end{DoxyCompactList}\item 
type(string) function \mbox{\hyperlink{namespacesimulationglobals__mod_ac83c53dd4e998e653981c7b1fa5dacbd}{getvarsimname}} (self, var)
\begin{DoxyCompactList}\small\item\em returns the simulation name of a given variabe name, by brute force searching trough the naming variable lists... \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_a422e3d203aad010489f541f645f63517}{setinputfilenames}} (self, filenames)
\begin{DoxyCompactList}\small\item\em set the name of the input data files \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_affd52c4c7b1c3f7ce282eeb7e4b4a359}{setnamingconventions}} (self, filename)
\begin{DoxyCompactList}\small\item\em set the naming conventions. Imports names from given .xml naming files \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_a2c6fa0a9123d06b2110258ea200f4f52}{setvarnames}} (self, var\+Node)
\begin{DoxyCompactList}\small\item\em set the variables naming conventions. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_a878fdcfa67037a1bc8411995394c2bef}{setdimnames}} (self, dim\+Node)
\begin{DoxyCompactList}\small\item\em set the dimensions naming conventions. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_a4dd64cb7a896b62d90e20a7eab65a6bf}{setcurrvar}} (self, tag, curr\+Var, curr\+Var\+Name\+List, var\+Node)
\begin{DoxyCompactList}\small\item\em set the current variable naming conventions. Imports the variable names from given .xml naming file. If the same variable is given again two things happen\+: a) the system name is overwriten; b) new variants are added to the name variant list \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_aefda4344f03a705055ad6cb97cb90c65}{settimedate}} (self)
\begin{DoxyCompactList}\small\item\em initializes time stamp and date stamp variables \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_acbb28eee5547a03dc28c924d8e23ad9a}{setcurrdatetime}} (self, dt)
\begin{DoxyCompactList}\small\item\em sets the current time stamp and date stamp given a dt increment \end{DoxyCompactList}\item 
real(prec) function \mbox{\hyperlink{namespacesimulationglobals__mod_a1fd33b50ae2216b3b7db074da1672398}{getdatetimestamp}} (self)
\begin{DoxyCompactList}\small\item\em returns the time stamp for the current time/date. Time Stamp is days since epoch, given by Base\+Date\+Time. Defaults to Copernicus standard. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_abd0e28a5ec7733d0292dd8e631e96577}{printdatetime}} (self)
\begin{DoxyCompactList}\small\item\em prints date \& time information. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_a3f11ed9f7735018950e1921ead871269}{increment\+\_\+numtracer}} (self)
\begin{DoxyCompactList}\small\item\em Increments Tracer count. This routine M\+U\+ST be A\+T\+O\+M\+IC. \end{DoxyCompactList}\item 
integer function \mbox{\hyperlink{namespacesimulationglobals__mod_ac4915156236196940b31ff02d53af295}{getnumtracer}} (self)
\begin{DoxyCompactList}\small\item\em Returns a new ID for a Tracer. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_ad983ee8885b275c6fa1369f1e158e078}{increment\+\_\+numdt}} (self)
\begin{DoxyCompactList}\small\item\em incrementing time step count. \end{DoxyCompactList}\item 
integer function \mbox{\hyperlink{namespacesimulationglobals__mod_af313959d6cbfc4cb0ab330aa094511c5}{getnumdt}} (self)
\begin{DoxyCompactList}\small\item\em Returns the number of time steps. \end{DoxyCompactList}\item 
integer function \mbox{\hyperlink{namespacesimulationglobals__mod_ac643661b27d17726e0305e34370de5c3}{getlastoutnumdt}} (self)
\begin{DoxyCompactList}\small\item\em Returns the number of time steps from last ouptut. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_ab760ab6064743ff54237166301346616}{setlastoutnumdt}} (self, num)
\begin{DoxyCompactList}\small\item\em Sets the number of time steps from last ouptut. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_a77d7175bc03e472ee9a00ee9f6ff1b0e}{increment\+\_\+numoutfile}} (self)
\begin{DoxyCompactList}\small\item\em incrementing output file count. \end{DoxyCompactList}\item 
integer function \mbox{\hyperlink{namespacesimulationglobals__mod_a2b76dc3e6cbf1256253c54903df8393b}{getnumoutfile}} (self)
\begin{DoxyCompactList}\small\item\em Returns the number of output files written. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_a20a4476e2a8dbec4c1aaa202a14b4a40}{buildlists}} (self)
\begin{DoxyCompactList}\small\item\em Method to build the parameters list of the Sources. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_ada0b6ffc5e112afbd86cdaa8d9aa55d8}{setparam}} (self, parmkey, parmvalue)
\begin{DoxyCompactList}\small\item\em Private parameter setting method. Builds the simulation parametric space from the input case file. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_a3d337e9c28136dd9c67fa576f05cd44b}{check}} (self)
\begin{DoxyCompactList}\small\item\em Parameter checking method. Checks if mandatory parameters were set. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_ab67964fe7c3fb20a4ce0b4193520aa1d}{printsimparameters}} (self)
\begin{DoxyCompactList}\small\item\em Parameter printing method. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_ae6b88d15ddc389aedd73d600de0337df}{setgravity}} (self, grav)
\begin{DoxyCompactList}\small\item\em Gravity setting routine. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_a36c2833caae3767434115cc966fe2c5d}{setz0}} (self, read\+\_\+z0)
\begin{DoxyCompactList}\small\item\em Z0 setting routine. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_a7d41fc05216d326ae8c0b090362430d3}{setrho}} (self, read\+\_\+rho)
\begin{DoxyCompactList}\small\item\em Rho\+\_\+\+Ref setting routine. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_a3b24d0338ee34782c8e2ab57bba7b5f6}{setbeachinglevel}} (self, read\+\_\+\+Beaching\+Level)
\begin{DoxyCompactList}\small\item\em Beaching Level setting routine. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_ad36c21a592a3230ce848804075abc97e}{setsmalldt}} (self, dt)
\begin{DoxyCompactList}\small\item\em small\+Dt setting routine. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_a139cb36f8366e6aec875c7977235fd68}{printconstants}} (self)
\begin{DoxyCompactList}\small\item\em Public constants printing routine. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_afda1e73e6e0cd075875c70aded99d425}{setdp}} (self, read\+\_\+dp)
\begin{DoxyCompactList}\small\item\em Dp setting routine. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_a0eced3f4367d08f3d0cb6ef2044bdc56}{setdt}} (self, read\+\_\+dt)
\begin{DoxyCompactList}\small\item\em Dt setting routine. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_abf5afcc12763caab3a5fc394255ced44}{setboundingbox}} (self, point\+\_\+, coords)
\begin{DoxyCompactList}\small\item\em Bounding box setting routine. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_af0bc0b00ee3aa2ba9e47dc50daa72799}{setblocksize}} (self, bsize)
\begin{DoxyCompactList}\small\item\em blocksize box setting routine \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_a54196bff569fc838730ba39a722319ff}{printsimdefs}} (self)
\begin{DoxyCompactList}\small\item\em Public simulation definitions printing routine. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_a7adb33aaa9ea0a94c38789c07ff3e787}{print\+\_\+stringlist}} (this)
\begin{DoxyCompactList}\small\item\em Method that prints all the links of the list. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulationglobals__mod_a405f70548e38f0af65d4cbdb7c7025a4}{print\+\_\+stringlistcurrent}} (this)
\begin{DoxyCompactList}\small\item\em Method that prints the current link of the list. \end{DoxyCompactList}\item 
logical function \mbox{\hyperlink{namespacesimulationglobals__mod_a12410ee549ead4c6d892dca6ead74d15}{notrepeated}} (this, str)
\begin{DoxyCompactList}\small\item\em Method that checks if an element is already on the list. Returns false if it is. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
type(\mbox{\hyperlink{structsimulationglobals__mod_1_1globals__class}{globals\+\_\+class}}), public \mbox{\hyperlink{namespacesimulationglobals__mod_acf1e2786d81bd0fe337a8458efce8733}{globals}}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Module to hold the simulation global parameter classes and their methods. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas 
\end{DoxyAuthor}


\subsection{Function/\+Subroutine Documentation}
\mbox{\Hypertarget{namespacesimulationglobals__mod_afd372c5764a180f9029d4dc3cddce94d}\label{namespacesimulationglobals__mod_afd372c5764a180f9029d4dc3cddce94d}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!addvar@{addvar}}
\index{addvar@{addvar}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{addvar()}{addvar()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::addvar (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1var__names__t}{var\+\_\+names\+\_\+t}}), intent(inout)}]{self,  }\item[{type(string), intent(in)}]{var }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



adding variables to variable pool of a simulation 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 335 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
335     \textcolor{keywordtype}{class}(var\_names\_t), \textcolor{keywordtype}{intent(inout)} :: self
336     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{intent(in)} :: var
337     \textcolor{keywordflow}{if} (self%varToUse%notRepeated(var)) \textcolor{keyword}{call }self%varToUse%add(var)
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_a20a4476e2a8dbec4c1aaa202a14b4a40}\label{namespacesimulationglobals__mod_a20a4476e2a8dbec4c1aaa202a14b4a40}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!buildlists@{buildlists}}
\index{buildlists@{buildlists}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{buildlists()}{buildlists()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::buildlists (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1src__parm__t}{src\+\_\+parm\+\_\+t}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Method to build the parameters list of the Sources. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 687 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
687     \textcolor{keywordtype}{implicit none}
688     \textcolor{keywordtype}{class}(src\_parm\_t), \textcolor{keywordtype}{intent(inout)} :: self
689     \textcolor{keyword}{allocate}(self%baselist(5))
690     self%baselist(1) = \textcolor{stringliteral}{'particulate'}
691     self%baselist(2) = \textcolor{stringliteral}{'density'}
692     self%baselist(3) = \textcolor{stringliteral}{'radius'}
693     self%baselist(4) = \textcolor{stringliteral}{'condition'}
694     self%baselist(5) = \textcolor{stringliteral}{'degradation\_rate'}
695     \textcolor{keyword}{allocate}(self%particulatelist(2))
696     self%particulatelist(1) = \textcolor{stringliteral}{'intitial\_concentration'}
697     self%particulatelist(2) = \textcolor{stringliteral}{'particle\_radius'}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_a4aa829af1699c705e46f47bb023ac162}\label{namespacesimulationglobals__mod_a4aa829af1699c705e46f47bb023ac162}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!buildvars@{buildvars}}
\index{buildvars@{buildvars}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{buildvars()}{buildvars()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::buildvars (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1var__names__t}{var\+\_\+names\+\_\+t}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Builds variable list names. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 303 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
303     \textcolor{keywordtype}{class}(var\_names\_t), \textcolor{keywordtype}{intent(inout)} :: self
304     self%u       = \textcolor{stringliteral}{'u'}
305     self%v       = \textcolor{stringliteral}{'v'}
306     self%w       = \textcolor{stringliteral}{'w'}
307     self%temp    = \textcolor{stringliteral}{'temp'}
308     self%sal     = \textcolor{stringliteral}{'sal'}
309     self%density = \textcolor{stringliteral}{'density'}
310     self%lon     = \textcolor{stringliteral}{'lon'}
311     self%lat     = \textcolor{stringliteral}{'lat'}
312     self%level   = \textcolor{stringliteral}{'level'}
313     self%time    = \textcolor{stringliteral}{'time'}
314     self%landMask    = \textcolor{stringliteral}{'landMask'}
315     self%landIntMask = \textcolor{stringliteral}{'landIntMask'}
316     \textcolor{comment}{!adding variables to variable pool - PLACEHOLDER, this should come from tracer constructors}
317     \textcolor{keyword}{call }self%addVar(self%u)
318     \textcolor{keyword}{call }self%addVar(self%v)
319     \textcolor{keyword}{call }self%addVar(self%w)
320     \textcolor{keyword}{call }self%addVar(self%temp)
321     \textcolor{keyword}{call }self%addVar(self%sal)
322     \textcolor{keyword}{call }self%addVar(self%density)
323     \textcolor{comment}{!call self%addVar(self%lon)}
324     \textcolor{comment}{!call self%addVar(self%lat)}
325     \textcolor{comment}{!call self%addVar(self%level)}
326     \textcolor{comment}{!call self%addVar(self%time)}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_a3d337e9c28136dd9c67fa576f05cd44b}\label{namespacesimulationglobals__mod_a3d337e9c28136dd9c67fa576f05cd44b}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!check@{check}}
\index{check@{check}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{check()}{check()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::check (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1parameters__t}{parameters\+\_\+t}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Parameter checking method. Checks if mandatory parameters were set. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 764 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
764     \textcolor{keywordtype}{implicit none}
765     \textcolor{keywordtype}{class}(parameters\_t), \textcolor{keywordtype}{intent(inout)} :: self
766     \textcolor{keywordtype}{type}(string) :: outext
767     \textcolor{keywordtype}{type}(datetime) :: temp
768     \textcolor{keywordtype}{type}(timedelta) :: simtime
769 
770     \textcolor{keywordflow}{if} ( any(self%IntegratorIndexes == self%Integrator)) \textcolor{keywordflow}{then}
771     \textcolor{keywordflow}{else}
772         outext = \textcolor{stringliteral}{'[Globals::parameters::check]: Integrator not recognized, stoping'}
773         \textcolor{keyword}{call }log%put(outext)
774         stop
775 \textcolor{keywordflow}{    end if}
776     \textcolor{keywordflow}{if} ( any(self%OutputFormatIndexes == self%OutputFormat)) \textcolor{keywordflow}{then}
777         \textcolor{keywordflow}{if} (self%OutputFormat == 1) \textcolor{keywordflow}{then}
778             outext = \textcolor{stringliteral}{'[Globals::parameters::check]: NetCDF is not implemented yet, try something nicer like
       VTK, stoping'}
779             \textcolor{keyword}{call }log%put(outext)
780             stop
781 \textcolor{keywordflow}{        end if}
782     \textcolor{keywordflow}{else}
783         outext = \textcolor{stringliteral}{'[Globals::parameters::check]: OutputFormat not recognized, stoping'}
784         \textcolor{keyword}{call }log%put(outext)
785         stop
786 \textcolor{keywordflow}{    end if}
787     temp = datetime() \textcolor{comment}{!default initialization}
788     \textcolor{comment}{!add new parameters to this search}
789     \textcolor{keywordflow}{if} (self%OutputWriteTime==mv) \textcolor{keywordflow}{then}
790         outext = \textcolor{stringliteral}{'[Globals::parameters::check]: Output sampling rate parameter (OutputWriteTime) is not
       set, stoping'}
791         \textcolor{keyword}{call }log%put(outext)
792         stop
793     \textcolor{keywordflow}{elseif} (self%StartTime==temp) \textcolor{keywordflow}{then}
794         outext = \textcolor{stringliteral}{'[Globals::parameters::check]: start time parameter (StartTime) is not set or invalid,
       stoping'}
795         \textcolor{keyword}{call }log%put(outext)
796         stop
797     \textcolor{keywordflow}{elseif} (self%EndTime==temp) \textcolor{keywordflow}{then}
798         outext = \textcolor{stringliteral}{'[Globals::parameters::check]: end time parameter (EndTime) is not set or invalid,
       stoping'}
799         \textcolor{keyword}{call }log%put(outext)
800         stop
801 \textcolor{keywordflow}{    end if}
802     \textcolor{comment}{!Build timemax from the difference between start and end time}
803     simtime = self%EndTime - self%StartTime
804     self%TimeMax = simtime%total\_seconds()
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_a1fd33b50ae2216b3b7db074da1672398}\label{namespacesimulationglobals__mod_a1fd33b50ae2216b3b7db074da1672398}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!getdatetimestamp@{getdatetimestamp}}
\index{getdatetimestamp@{getdatetimestamp}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{getdatetimestamp()}{getdatetimestamp()}}
{\footnotesize\ttfamily real(prec) function simulationglobals\+\_\+mod\+::getdatetimestamp (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1sim__time__t}{sim\+\_\+time\+\_\+t}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



returns the time stamp for the current time/date. Time Stamp is days since epoch, given by Base\+Date\+Time. Defaults to Copernicus standard. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 561 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
561     \textcolor{keywordtype}{class}(sim\_time\_t), \textcolor{keywordtype}{intent(inout)} :: self
562     \textcolor{keywordtype}{type}(timedelta) :: step, day
563     day = timedelta(days=1)
564     step = self%CurrDate - self%BaseDateTime
565     getdatetimestamp = step%total\_seconds()/day%total\_seconds()
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_ac643661b27d17726e0305e34370de5c3}\label{namespacesimulationglobals__mod_ac643661b27d17726e0305e34370de5c3}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!getlastoutnumdt@{getlastoutnumdt}}
\index{getlastoutnumdt@{getlastoutnumdt}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{getlastoutnumdt()}{getlastoutnumdt()}}
{\footnotesize\ttfamily integer function simulationglobals\+\_\+mod\+::getlastoutnumdt (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1sim__t}{sim\+\_\+t}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Returns the number of time steps from last ouptut. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 644 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
644     \textcolor{keywordtype}{class}(sim\_t), \textcolor{keywordtype}{intent(inout)} :: self
645     getlastoutnumdt = self%lastOutNumDt
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_af313959d6cbfc4cb0ab330aa094511c5}\label{namespacesimulationglobals__mod_af313959d6cbfc4cb0ab330aa094511c5}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!getnumdt@{getnumdt}}
\index{getnumdt@{getnumdt}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{getnumdt()}{getnumdt()}}
{\footnotesize\ttfamily integer function simulationglobals\+\_\+mod\+::getnumdt (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1sim__t}{sim\+\_\+t}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Returns the number of time steps. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 633 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
633     \textcolor{keywordtype}{implicit none}
634     \textcolor{keywordtype}{class}(sim\_t), \textcolor{keywordtype}{intent(inout)} :: self
635     getnumdt = self%numdt
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_a2b76dc3e6cbf1256253c54903df8393b}\label{namespacesimulationglobals__mod_a2b76dc3e6cbf1256253c54903df8393b}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!getnumoutfile@{getnumoutfile}}
\index{getnumoutfile@{getnumoutfile}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{getnumoutfile()}{getnumoutfile()}}
{\footnotesize\ttfamily integer function simulationglobals\+\_\+mod\+::getnumoutfile (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1sim__t}{sim\+\_\+t}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Returns the number of output files written. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 676 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
676     \textcolor{keywordtype}{implicit none}
677     \textcolor{keywordtype}{class}(sim\_t), \textcolor{keywordtype}{intent(inout)} :: self
678     getnumoutfile = self%numoutfile
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_ac4915156236196940b31ff02d53af295}\label{namespacesimulationglobals__mod_ac4915156236196940b31ff02d53af295}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!getnumtracer@{getnumtracer}}
\index{getnumtracer@{getnumtracer}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{getnumtracer()}{getnumtracer()}}
{\footnotesize\ttfamily integer function simulationglobals\+\_\+mod\+::getnumtracer (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1sim__t}{sim\+\_\+t}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Returns a new ID for a Tracer. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 610 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
610     \textcolor{keywordtype}{implicit none}
611     \textcolor{keywordtype}{class}(sim\_t), \textcolor{keywordtype}{intent(inout)} :: self
612     \textcolor{keyword}{call }self%increment\_numTracer()
613     getnumtracer = self%numTracer
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_ac83c53dd4e998e653981c7b1fa5dacbd}\label{namespacesimulationglobals__mod_ac83c53dd4e998e653981c7b1fa5dacbd}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!getvarsimname@{getvarsimname}}
\index{getvarsimname@{getvarsimname}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{getvarsimname()}{getvarsimname()}}
{\footnotesize\ttfamily type(string) function simulationglobals\+\_\+mod\+::getvarsimname (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1var__names__t}{var\+\_\+names\+\_\+t}}), intent(inout)}]{self,  }\item[{type(string), intent(in)}]{var }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



returns the simulation name of a given variabe name, by brute force searching trough the naming variable lists... 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em self,var} & \\
\hline
\end{DoxyParams}


Definition at line 348 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
348     \textcolor{keywordtype}{class}(var\_names\_t), \textcolor{keywordtype}{intent(inout)} :: self
349     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{intent(in)} :: var
350 
351     \textcolor{comment}{!searching for u}
352     \textcolor{keywordflow}{if} (var == self%u .or. .not.self%uVariants%notRepeated(var)) \textcolor{keywordflow}{then}
353         getvarsimname = self%u
354         \textcolor{keywordflow}{return}
355 \textcolor{keywordflow}{    end if}
356     \textcolor{comment}{!searching for v}
357     \textcolor{keywordflow}{if} (var == self%v .or. .not.self%vVariants%notRepeated(var)) \textcolor{keywordflow}{then}
358         getvarsimname = self%v
359         \textcolor{keywordflow}{return}
360 \textcolor{keywordflow}{    end if}
361     \textcolor{comment}{!searching for w}
362     \textcolor{keywordflow}{if} (var == self%w .or. .not.self%wVariants%notRepeated(var)) \textcolor{keywordflow}{then}
363         getvarsimname = self%w
364         \textcolor{keywordflow}{return}
365 \textcolor{keywordflow}{    end if}
366     \textcolor{comment}{!searching for temp}
367     \textcolor{keywordflow}{if} (var == self%temp .or. .not.self%tempVariants%notRepeated(var)) \textcolor{keywordflow}{then}
368         getvarsimname = self%temp
369         \textcolor{keywordflow}{return}
370 \textcolor{keywordflow}{    end if}
371     \textcolor{comment}{!searching for sal}
372     \textcolor{keywordflow}{if} (var == self%sal .or. .not.self%salVariants%notRepeated(var)) \textcolor{keywordflow}{then}
373         getvarsimname = self%sal
374         \textcolor{keywordflow}{return}
375 \textcolor{keywordflow}{    end if}
376     \textcolor{comment}{!searching for density}
377     \textcolor{keywordflow}{if} (var == self%density .or. .not.self%densityVariants%notRepeated(var)) \textcolor{keywordflow}{then}
378         getvarsimname = self%density
379         \textcolor{keywordflow}{return}
380 \textcolor{keywordflow}{    end if}
381     \textcolor{comment}{!searching for lon}
382     \textcolor{keywordflow}{if} (var == self%lon .or. .not.self%lonVariants%notRepeated(var)) \textcolor{keywordflow}{then}
383         getvarsimname = self%lon
384         \textcolor{keywordflow}{return}
385 \textcolor{keywordflow}{    end if}
386     \textcolor{comment}{!searching for lat}
387     \textcolor{keywordflow}{if} (var == self%lat .or. .not.self%latVariants%notRepeated(var)) \textcolor{keywordflow}{then}
388         getvarsimname = self%lat
389         \textcolor{keywordflow}{return}
390 \textcolor{keywordflow}{    end if}
391     \textcolor{comment}{!searching for level}
392     \textcolor{keywordflow}{if} (var == self%level .or. .not.self%levelVariants%notRepeated(var)) \textcolor{keywordflow}{then}
393         getvarsimname = self%level
394         \textcolor{keywordflow}{return}
395 \textcolor{keywordflow}{    end if}
396     \textcolor{comment}{!searching for time}
397     \textcolor{keywordflow}{if} (var == self%time .or. .not.self%timeVariants%notRepeated(var)) \textcolor{keywordflow}{then}
398         getvarsimname = self%time
399         \textcolor{keywordflow}{return}
400 \textcolor{keywordflow}{    end if}
401 
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_ad983ee8885b275c6fa1369f1e158e078}\label{namespacesimulationglobals__mod_ad983ee8885b275c6fa1369f1e158e078}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!increment\+\_\+numdt@{increment\+\_\+numdt}}
\index{increment\+\_\+numdt@{increment\+\_\+numdt}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{increment\+\_\+numdt()}{increment\_numdt()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::increment\+\_\+numdt (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1sim__t}{sim\+\_\+t}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



incrementing time step count. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 622 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
622     \textcolor{keywordtype}{implicit none}
623     \textcolor{keywordtype}{class}(sim\_t), \textcolor{keywordtype}{intent(inout)} :: self
624     self%numdt = self%numdt + 1
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_a77d7175bc03e472ee9a00ee9f6ff1b0e}\label{namespacesimulationglobals__mod_a77d7175bc03e472ee9a00ee9f6ff1b0e}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!increment\+\_\+numoutfile@{increment\+\_\+numoutfile}}
\index{increment\+\_\+numoutfile@{increment\+\_\+numoutfile}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{increment\+\_\+numoutfile()}{increment\_numoutfile()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::increment\+\_\+numoutfile (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1sim__t}{sim\+\_\+t}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



incrementing output file count. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 665 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
665     \textcolor{keywordtype}{implicit none}
666     \textcolor{keywordtype}{class}(sim\_t), \textcolor{keywordtype}{intent(inout)} :: self
667     self%numoutfile = self%numoutfile + 1
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_a3f11ed9f7735018950e1921ead871269}\label{namespacesimulationglobals__mod_a3f11ed9f7735018950e1921ead871269}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!increment\+\_\+numtracer@{increment\+\_\+numtracer}}
\index{increment\+\_\+numtracer@{increment\+\_\+numtracer}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{increment\+\_\+numtracer()}{increment\_numtracer()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::increment\+\_\+numtracer (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1sim__t}{sim\+\_\+t}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Increments Tracer count. This routine M\+U\+ST be A\+T\+O\+M\+IC. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 598 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
598     \textcolor{keywordtype}{implicit none}
599     \textcolor{keywordtype}{class}(sim\_t), \textcolor{keywordtype}{intent(inout)} :: self
600     \textcolor{comment}{!ATOMIC pragma here please}
601     self%numTracer = self%numTracer + 1
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_a12410ee549ead4c6d892dca6ead74d15}\label{namespacesimulationglobals__mod_a12410ee549ead4c6d892dca6ead74d15}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!notrepeated@{notrepeated}}
\index{notrepeated@{notrepeated}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{notrepeated()}{notrepeated()}}
{\footnotesize\ttfamily logical function simulationglobals\+\_\+mod\+::notrepeated (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1stringlist__class}{stringlist\+\_\+class}}), intent(in)}]{this,  }\item[{class(string), intent(in)}]{str }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Method that checks if an element is already on the list. Returns false if it is. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 1121 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
1121     \textcolor{keywordtype}{class}(stringList\_class), \textcolor{keywordtype}{intent(in)} :: this
1122     \textcolor{keywordtype}{class}(string), \textcolor{keywordtype}{intent(in)} :: str
1123     \textcolor{keywordtype}{class}(*), \textcolor{keywordtype}{pointer} :: curr
1124     \textcolor{keywordtype}{type}(string) :: outext
1125     notrepeated = .true.
1126     \textcolor{keyword}{call }this%reset()               \textcolor{comment}{! reset list iterator}
1127     \textcolor{keywordflow}{do} \textcolor{keywordflow}{while}(this%moreValues())     \textcolor{comment}{! loop while there are values to print}
1128         curr => this%currentValue() \textcolor{comment}{! get current value}
1129         \textcolor{keywordflow}{select type}(curr)
1130 \textcolor{keywordflow}{        class is} (string)
1131             \textcolor{keywordflow}{if} (curr == str) \textcolor{keywordflow}{then}
1132                 notrepeated = .false.
1133                 \textcolor{keywordflow}{return}
1134 \textcolor{keywordflow}{            end if}
1135 \textcolor{keywordflow}{            class default}
1136             outext = \textcolor{stringliteral}{'[stringList\_class::notRepeated] Unexepected type of content, not a string'}
1137             \textcolor{keyword}{call }log%put(outext)
1138             stop
1139 \textcolor{keywordflow}{        end select}
1140         \textcolor{keyword}{call }this%next()            \textcolor{comment}{! increment the list iterator}
1141 \textcolor{keywordflow}{    end do}
1142     \textcolor{keyword}{call }this%reset()               \textcolor{comment}{! reset list iterator}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_a7adb33aaa9ea0a94c38789c07ff3e787}\label{namespacesimulationglobals__mod_a7adb33aaa9ea0a94c38789c07ff3e787}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!print\+\_\+stringlist@{print\+\_\+stringlist}}
\index{print\+\_\+stringlist@{print\+\_\+stringlist}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{print\+\_\+stringlist()}{print\_stringlist()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::print\+\_\+stringlist (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1stringlist__class}{stringlist\+\_\+class}}), intent(in)}]{this }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Method that prints all the links of the list. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 1083 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
1083     \textcolor{keywordtype}{class}(stringList\_class), \textcolor{keywordtype}{intent(in)} :: this
1084     \textcolor{keywordtype}{class}(*), \textcolor{keywordtype}{pointer} :: curr
1085     \textcolor{keyword}{call }this%reset()               \textcolor{comment}{! reset list iterator}
1086     \textcolor{keywordflow}{do} \textcolor{keywordflow}{while}(this%moreValues())     \textcolor{comment}{! loop while there are values to print}
1087         \textcolor{keyword}{call }this%printCurrent()
1088         \textcolor{keyword}{call }this%next()            \textcolor{comment}{! increment the list iterator}
1089 \textcolor{keywordflow}{    end do}
1090     \textcolor{keyword}{call }this%reset()               \textcolor{comment}{! reset list iterator}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_a405f70548e38f0af65d4cbdb7c7025a4}\label{namespacesimulationglobals__mod_a405f70548e38f0af65d4cbdb7c7025a4}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!print\+\_\+stringlistcurrent@{print\+\_\+stringlistcurrent}}
\index{print\+\_\+stringlistcurrent@{print\+\_\+stringlistcurrent}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{print\+\_\+stringlistcurrent()}{print\_stringlistcurrent()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::print\+\_\+stringlistcurrent (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1stringlist__class}{stringlist\+\_\+class}}), intent(in)}]{this }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Method that prints the current link of the list. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 1099 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
1099     \textcolor{keywordtype}{class}(stringList\_class), \textcolor{keywordtype}{intent(in)} :: this
1100     \textcolor{keywordtype}{class}(*), \textcolor{keywordtype}{pointer} :: curr
1101     \textcolor{keywordtype}{type}(string) :: outext
1102     curr => this%currentValue() \textcolor{comment}{! get current value}
1103     \textcolor{keywordflow}{select type}(curr)
1104 \textcolor{keywordflow}{    class is} (string)
1105         outext = curr
1106         \textcolor{keyword}{call }log%put(outext, .false.)
1107 \textcolor{keywordflow}{        class default}
1108         outext = \textcolor{stringliteral}{'[stringList\_class::print] Unexepected type of content, not a string'}
1109         \textcolor{keyword}{call }log%put(outext)
1110         stop
1111 \textcolor{keywordflow}{    end select}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_a139cb36f8366e6aec875c7977235fd68}\label{namespacesimulationglobals__mod_a139cb36f8366e6aec875c7977235fd68}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!printconstants@{printconstants}}
\index{printconstants@{printconstants}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{printconstants()}{printconstants()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::printconstants (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1constants__t}{constants\+\_\+t}}), intent(in)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Public constants printing routine. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 940 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
940     \textcolor{keywordtype}{implicit none}
941     \textcolor{keywordtype}{class}(constants\_t), \textcolor{keywordtype}{intent(in)} :: self
942     \textcolor{keywordtype}{type}(string) :: outext
943     \textcolor{keywordtype}{type}(string) :: temp\_str(3)
944 
945     temp\_str(1)=self%Gravity%x
946     temp\_str(2)=self%Gravity%y
947     temp\_str(3)=self%Gravity%z
948     outext = \textcolor{stringliteral}{'      Gravity is '}//new\_line(\textcolor{stringliteral}{'a'})//&
949         \textcolor{stringliteral}{'       '}//temp\_str(1)//\textcolor{stringliteral}{' '}//temp\_str(2)//\textcolor{stringliteral}{' '}//temp\_str(3)//new\_line(\textcolor{stringliteral}{'a'})
950     temp\_str(1)=self%Z0
951     outext = outext//\textcolor{stringliteral}{'       Z0 = '}//temp\_str(1)//\textcolor{stringliteral}{' m'}//new\_line(\textcolor{stringliteral}{'a'})
952     temp\_str(1)=self%BeachingLevel
953     outext = outext//\textcolor{stringliteral}{'       BeachingLevel = '}//temp\_str(1)//\textcolor{stringliteral}{' m'}//new\_line(\textcolor{stringliteral}{'a'})
954     temp\_str(1)=self%Rho\_ref
955     outext = outext//\textcolor{stringliteral}{'       Rho\_ref = '}//temp\_str(1)//\textcolor{stringliteral}{' kg/m^3'}
956 
957     \textcolor{keyword}{call }log%put(outext,.false.)
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_abd0e28a5ec7733d0292dd8e631e96577}\label{namespacesimulationglobals__mod_abd0e28a5ec7733d0292dd8e631e96577}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!printdatetime@{printdatetime}}
\index{printdatetime@{printdatetime}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{printdatetime()}{printdatetime()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::printdatetime (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1sim__time__t}{sim\+\_\+time\+\_\+t}}), intent(in)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



prints date \& time information. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 574 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
574     \textcolor{keywordtype}{class}(sim\_time\_t), \textcolor{keywordtype}{intent(in)} :: self
575     \textcolor{keywordtype}{type}(string) :: outext
576     \textcolor{keywordtype}{type}(string) :: temp\_str
577     \textcolor{keywordtype}{character(len=23)} :: temp\_char
578     temp\_char = self%StartDate%isoformat(\textcolor{stringliteral}{' '})
579     temp\_str = temp\_char
580     outext = outext//\textcolor{stringliteral}{'      Start date                = '}//temp\_str//new\_line(\textcolor{stringliteral}{'a'})
581     temp\_char = self%EndDate%isoformat(\textcolor{stringliteral}{' '})
582     temp\_str = temp\_char
583     outext = outext//\textcolor{stringliteral}{'       End date                  = '}//temp\_str//new\_line(\textcolor{stringliteral}{'a'})
584     temp\_char = self%BaseDateTime%isoformat(\textcolor{stringliteral}{' '})
585     temp\_str = temp\_char
586     outext = outext//\textcolor{stringliteral}{'       Base date (time stamping) = '}//temp\_str//new\_line(\textcolor{stringliteral}{'a'})
587     temp\_str=self%TimeMax
588     outext = outext//\textcolor{stringliteral}{'       Simulation will run for '}//temp\_str//\textcolor{stringliteral}{' s'}
589     \textcolor{keyword}{call }log%put(outext,.false.)
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_a54196bff569fc838730ba39a722319ff}\label{namespacesimulationglobals__mod_a54196bff569fc838730ba39a722319ff}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!printsimdefs@{printsimdefs}}
\index{printsimdefs@{printsimdefs}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{printsimdefs()}{printsimdefs()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::printsimdefs (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1simdefs__t}{simdefs\+\_\+t}}), intent(in)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Public simulation definitions printing routine. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 1047 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
1047     \textcolor{keywordtype}{implicit none}
1048     \textcolor{keywordtype}{class}(simdefs\_t), \textcolor{keywordtype}{intent(in)} :: self
1049     \textcolor{keywordtype}{type}(string) :: outext
1050     \textcolor{keywordtype}{type}(string) :: temp\_str(3)
1051 
1052     temp\_str(1)=self%Dp
1053     outext = \textcolor{stringliteral}{'      Initial resolution is '}//temp\_str(1)//\textcolor{stringliteral}{' m'}//new\_line(\textcolor{stringliteral}{'a'})
1054     temp\_str(1)=self%dt
1055     outext = \textcolor{stringliteral}{'      Timestep is '}//temp\_str(1)//\textcolor{stringliteral}{' s'}//new\_line(\textcolor{stringliteral}{'a'})
1056     temp\_str(1)=self%Pointmin%x
1057     temp\_str(2)=self%Pointmin%y
1058     temp\_str(3)=self%Pointmin%z
1059     outext = outext//\textcolor{stringliteral}{'       Pointmin (BB) is '}//new\_line(\textcolor{stringliteral}{'a'})//&
1060         \textcolor{stringliteral}{'       '}//temp\_str(1)//\textcolor{stringliteral}{' '}//temp\_str(2)//\textcolor{stringliteral}{' '}//temp\_str(3)//new\_line(\textcolor{stringliteral}{'a'})
1061     temp\_str(1)=self%Pointmax%x
1062     temp\_str(2)=self%Pointmax%y
1063     temp\_str(3)=self%Pointmax%z
1064     outext = outext//\textcolor{stringliteral}{'       Pointmax (BB) is '}//new\_line(\textcolor{stringliteral}{'a'})//&
1065         \textcolor{stringliteral}{'       '}//temp\_str(1)//\textcolor{stringliteral}{' '}//temp\_str(2)//\textcolor{stringliteral}{' '}//temp\_str(3)//new\_line(\textcolor{stringliteral}{'a'})
1066     \textcolor{keywordflow}{if} (self%autoblocksize) \textcolor{keywordflow}{then}
1067         outext = outext//\textcolor{stringliteral}{'       Blocks are automatically sized'}
1068     \textcolor{keywordflow}{else}
1069         temp\_str(1)=self%blocksize%x
1070         temp\_str(2)=self%blocksize%y
1071         outext = outext//\textcolor{stringliteral}{'       Blocks are sized '}//new\_line(\textcolor{stringliteral}{'a'})//&
1072             \textcolor{stringliteral}{'       '}//temp\_str(1)//\textcolor{stringliteral}{' X '}//temp\_str(2)
1073 \textcolor{keywordflow}{    end if}
1074     \textcolor{keyword}{call }log%put(outext,.false.)
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_ab67964fe7c3fb20a4ce0b4193520aa1d}\label{namespacesimulationglobals__mod_ab67964fe7c3fb20a4ce0b4193520aa1d}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!printsimparameters@{printsimparameters}}
\index{printsimparameters@{printsimparameters}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{printsimparameters()}{printsimparameters()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::printsimparameters (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1parameters__t}{parameters\+\_\+t}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Parameter printing method. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 813 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
813     \textcolor{keywordtype}{implicit none}
814     \textcolor{keywordtype}{class}(parameters\_t), \textcolor{keywordtype}{intent(inout)} :: self
815     \textcolor{keywordtype}{type}(string) :: outext
816     \textcolor{keywordtype}{type}(string) :: temp\_str
817     \textcolor{keywordtype}{character(len=23)} :: temp\_char
818     outext = \textcolor{stringliteral}{'      Integrator scheme is '}//self%IntegratorNames(self%Integrator)//new\_line(\textcolor{stringliteral}{'a'})
819     temp\_str=self%numOPMthreads
820     temp\_str=ompmanager%getThreads()
821     outext = outext//\textcolor{stringliteral}{'       OMP threads = '}//temp\_str//new\_line(\textcolor{stringliteral}{'a'})
822     temp\_str=self%WarmUpTime
823     outext = outext//\textcolor{stringliteral}{'       WarmUpTime = '}//temp\_str//\textcolor{stringliteral}{' s'}//new\_line(\textcolor{stringliteral}{'a'})
824     temp\_str=self%OutputWriteTime
825     outext = outext//\textcolor{stringliteral}{'       OutputWriteTime = '}//temp\_str//\textcolor{stringliteral}{' Hz'}//new\_line(\textcolor{stringliteral}{'a'})
826     outext = outext//\textcolor{stringliteral}{'       Output file format is '}//self%OutputFormatNames(self%OutputFormat)//new\_line(\textcolor{stringliteral}{
      'a'})
827     temp\_str=self%BufferSize
828     outext = outext//\textcolor{stringliteral}{'       Input buffer size is '}//temp\_str//\textcolor{stringliteral}{' s'}
829     \textcolor{keyword}{call }log%put(outext,.false.)
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_a3b24d0338ee34782c8e2ab57bba7b5f6}\label{namespacesimulationglobals__mod_a3b24d0338ee34782c8e2ab57bba7b5f6}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!setbeachinglevel@{setbeachinglevel}}
\index{setbeachinglevel@{setbeachinglevel}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{setbeachinglevel()}{setbeachinglevel()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::setbeachinglevel (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1constants__t}{constants\+\_\+t}}), intent(inout)}]{self,  }\item[{type(string), intent(in)}]{read\+\_\+\+Beaching\+Level }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Beaching Level setting routine. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em self,read\+\_\+\+Beaching\+Level} & \\
\hline
\end{DoxyParams}


Definition at line 899 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
899     \textcolor{keywordtype}{class}(constants\_t), \textcolor{keywordtype}{intent(inout)} :: self
900     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{intent(in)} :: read\_BeachingLevel
901     \textcolor{keywordtype}{type}(string) :: outext
902     \textcolor{keywordtype}{integer} :: sizem    
903     \textcolor{keywordflow}{if} (read\_beachinglevel%to\_number(kind=1.\_r4p).gt.0.0) \textcolor{keywordflow}{then}
904         outext=\textcolor{stringliteral}{'Beaching level must be negative, assuming default value'}
905         \textcolor{keyword}{call }log%put(outext)
906     \textcolor{keywordflow}{else}        
907         self%BeachingLevel=read\_beachinglevel%to\_number(kind=1.\_r4p)
908 \textcolor{keywordflow}{    endif}
909     sizem = sizeof(self%BeachingLevel)
910     \textcolor{keyword}{call }simmemory%adddef(sizem)
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_af0bc0b00ee3aa2ba9e47dc50daa72799}\label{namespacesimulationglobals__mod_af0bc0b00ee3aa2ba9e47dc50daa72799}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!setblocksize@{setblocksize}}
\index{setblocksize@{setblocksize}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{setblocksize()}{setblocksize()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::setblocksize (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1simdefs__t}{simdefs\+\_\+t}}), intent(inout)}]{self,  }\item[{type(vector)}]{bsize }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



blocksize box setting routine 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em self,bsize} & \\
\hline
\end{DoxyParams}


Definition at line 1032 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
1032     \textcolor{keywordtype}{implicit none}
1033     \textcolor{keywordtype}{class}(simdefs\_t), \textcolor{keywordtype}{intent(inout)} :: self
1034     \textcolor{keywordtype}{type}(vector) :: bsize
1035     \textcolor{keywordtype}{integer} :: sizem
1036     self%blocksize = bsize
1037     sizem = sizeof(bsize)
1038     \textcolor{keyword}{call }simmemory%adddef(sizem)
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_abf5afcc12763caab3a5fc394255ced44}\label{namespacesimulationglobals__mod_abf5afcc12763caab3a5fc394255ced44}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!setboundingbox@{setboundingbox}}
\index{setboundingbox@{setboundingbox}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{setboundingbox()}{setboundingbox()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::setboundingbox (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1simdefs__t}{simdefs\+\_\+t}}), intent(inout)}]{self,  }\item[{type(string), intent(in)}]{point\+\_\+,  }\item[{type(vector)}]{coords }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Bounding box setting routine. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em self,point\+\_\+,coords} & \\
\hline
\end{DoxyParams}


Definition at line 1011 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
1011     \textcolor{keywordtype}{implicit none}
1012     \textcolor{keywordtype}{class}(simdefs\_t), \textcolor{keywordtype}{intent(inout)} :: self
1013     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{intent(in)} :: point\_
1014     \textcolor{keywordtype}{type}(vector) :: coords
1015     \textcolor{keywordtype}{integer} :: sizem
1016     \textcolor{keywordflow}{if} (point\_%chars() == \textcolor{stringliteral}{"pointmin"}) \textcolor{keywordflow}{then}
1017         self%Pointmin= coords
1018     \textcolor{keywordflow}{elseif} (point\_%chars() == \textcolor{stringliteral}{"pointmax"}) \textcolor{keywordflow}{then}
1019         self%Pointmax= coords
1020 \textcolor{keywordflow}{    endif}
1021     sizem=sizeof(coords)
1022     \textcolor{keyword}{call }simmemory%adddef(sizem)
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_acbb28eee5547a03dc28c924d8e23ad9a}\label{namespacesimulationglobals__mod_acbb28eee5547a03dc28c924d8e23ad9a}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!setcurrdatetime@{setcurrdatetime}}
\index{setcurrdatetime@{setcurrdatetime}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{setcurrdatetime()}{setcurrdatetime()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::setcurrdatetime (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1sim__time__t}{sim\+\_\+time\+\_\+t}}), intent(inout)}]{self,  }\item[{real(prec), intent(in)}]{dt }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



sets the current time stamp and date stamp given a dt increment 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 546 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
546     \textcolor{keywordtype}{class}(sim\_time\_t), \textcolor{keywordtype}{intent(inout)} :: self
547     \textcolor{keywordtype}{real(prec)}, \textcolor{keywordtype}{intent(in)} :: dt
548     \textcolor{keywordtype}{type}(timedelta) :: step
549     step = timedelta(seconds=floor(dt), milliseconds=floor((dt-floor(dt))*1000))
550     self%CurrDate = self%CurrDate + step
551     self%CurrTime = self%CurrTime + dt
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_a4dd64cb7a896b62d90e20a7eab65a6bf}\label{namespacesimulationglobals__mod_a4dd64cb7a896b62d90e20a7eab65a6bf}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!setcurrvar@{setcurrvar}}
\index{setcurrvar@{setcurrvar}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{setcurrvar()}{setcurrvar()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::setcurrvar (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1globals__class}{globals\+\_\+class}}), intent(inout)}]{self,  }\item[{type(string), intent(in)}]{tag,  }\item[{type(string), intent(inout)}]{curr\+Var,  }\item[{type(\mbox{\hyperlink{structsimulationglobals__mod_1_1stringlist__class}{stringlist\+\_\+class}}), intent(inout)}]{curr\+Var\+Name\+List,  }\item[{type(node), intent(in), pointer}]{var\+Node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



set the current variable naming conventions. Imports the variable names from given .xml naming file. If the same variable is given again two things happen\+: a) the system name is overwriten; b) new variants are added to the name variant list 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 500 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
500     \textcolor{keywordtype}{class}(globals\_class), \textcolor{keywordtype}{intent(inout)} :: self
501     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{intent(in)} :: tag
502     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{intent(inout)} :: currVar
503     \textcolor{keywordtype}{type}(stringList\_class), \textcolor{keywordtype}{intent(inout)} :: currVarNameList
504     \textcolor{keywordtype}{type}(Node), \textcolor{keywordtype}{pointer}, \textcolor{keywordtype}{intent(in)} :: varNode
505     \textcolor{keywordtype}{integer} :: i
506     \textcolor{keywordtype}{type}(string) :: attValue, attName
507     \textcolor{keywordtype}{type}(Node), \textcolor{keywordtype}{pointer} :: tempNode, variantNode
508     \textcolor{keywordtype}{type}(NodeList), \textcolor{keywordtype}{pointer} :: varNameList
509 
510     \textcolor{keyword}{call }xmlreader%gotoNode(varnode, tempnode, tag, mandatory = .false.)
511     \textcolor{keywordflow}{if} (\textcolor{keyword}{associated}(tempnode)) \textcolor{keywordflow}{then} \textcolor{comment}{!variable description exists in file}
512         attname=\textcolor{stringliteral}{"name"}
513         \textcolor{keyword}{call }xmlreader%getNodeAttribute(varnode, tag, attname, attvalue, mandatory = .true.)
514         currvar = attvalue
515         varnamelist => getelementsbytagname(tempnode, \textcolor{stringliteral}{"variant"})
516         \textcolor{keywordflow}{do} i = 0, getlength(varnamelist) - 1
517             variantnode => item(varnamelist, i)
518             \textcolor{keyword}{call }xmlreader%getLeafAttribute(variantnode,attname,attvalue)
519             \textcolor{keywordflow}{if} (currvarnamelist%notRepeated(attvalue)) \textcolor{keyword}{call }currvarnamelist%add(attvalue)
520 \textcolor{keywordflow}{        end do}
521 \textcolor{keywordflow}{    end if}
522 
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_aa01e0a958ef2e94a02991dcfe390bfa0}\label{namespacesimulationglobals__mod_aa01e0a958ef2e94a02991dcfe390bfa0}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!setdefaults@{setdefaults}}
\index{setdefaults@{setdefaults}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{setdefaults()}{setdefaults()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::setdefaults (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1globals__class}{globals\+\_\+class}}), intent(inout)}]{self,  }\item[{type(string), intent(in), optional}]{outpath }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Globals default setting routine. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em self,outpath} & \\
\hline
\end{DoxyParams}


Definition at line 228 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
228     \textcolor{keywordtype}{class}(globals\_class), \textcolor{keywordtype}{intent(inout)} :: self
229     \textcolor{keywordtype}{integer} :: sizem
230     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{optional}, \textcolor{keywordtype}{intent(in)} :: outpath
231     \textcolor{comment}{!parameters}
232     self%Parameters%Integrator = 1
233     self%Parameters%IntegratorIndexes = [1,2,3]
234     self%Parameters%IntegratorNames(1) = \textcolor{stringliteral}{'Euler'}
235     self%Parameters%IntegratorNames(2) = \textcolor{stringliteral}{'Multi-Step Euler'}
236     self%Parameters%IntegratorNames(3) = \textcolor{stringliteral}{'Runge-Kuta 4'}
237     self%Parameters%numOPMthreads = ompmanager%getThreads()
238     self%Parameters%WarmUpTime = 0.0
239     self%Parameters%OutputWriteTime = mv
240     self%Parameters%StartTime = datetime()
241     self%Parameters%EndTime = datetime()
242     self%Parameters%BaseDateTime = datetime(1950,1,1,0,0,0)
243     self%Parameters%BufferSize = 3600*24*6 \textcolor{comment}{!seconds/hour*hours*days}
244     self%Parameters%OutputFormat = 2
245     self%Parameters%OutputFormatIndexes = [1,2]
246     \textcolor{comment}{!self%Parameters%OutputFormatNames = ['NetCDF','VTK'] !This is not acceptable because FORTRAN}
247     self%Parameters%OutputFormatNames(1) = \textcolor{stringliteral}{'NetCDF'}
248     self%Parameters%OutputFormatNames(2) = \textcolor{stringliteral}{'VTK'}
249     \textcolor{comment}{!SimTime}
250     self%SimTime%StartDate = datetime()
251     self%SimTime%EndDate = datetime()
252     self%SimTime%CurrDate = datetime()
253     self%SimTime%BaseDateTime = datetime(1950,1,1,0,0,0)
254     \textcolor{comment}{!Simulation definitions}
255     self%SimDefs%autoblocksize =.true.
256     self%SimDefs%blocksize = 0.0
257     self%SimDefs%numblocksx = mv
258     self%SimDefs%numblocksy = mv
259     self%SimDefs%numblocks = ompmanager%getThreads()
260     self%SimDefs%Dp = mv
261     self%SimDefs%dt = mv
262     self%SimDefs%Pointmin = 0.0
263     self%SimDefs%Pointmax = 0.0
264     \textcolor{comment}{!simulation constants}
265     self%Constants%Gravity= 0.0*ex + 0.0*ey -9.81*ez
266     self%Constants%Z0 = 0.0
267     self%Constants%BeachingLevel = -3.0
268     self%Constants%Rho\_ref = 1000.0
269     self%Constants%smallDt = 0.0
270     \textcolor{comment}{!filenames}
271     self%Names%mainxmlfilename = \textcolor{stringliteral}{'not\_set'}
272     self%Names%propsxmlfilename = \textcolor{stringliteral}{'not\_set'}
273     self%Names%tempfilename = \textcolor{stringliteral}{'not\_set'}
274     \textcolor{keywordflow}{if} (\textcolor{keyword}{present}(outpath)) \textcolor{keywordflow}{then}
275         self%Names%outpath = outpath
276     \textcolor{keywordflow}{else}
277         self%Names%outpath = \textcolor{stringliteral}{'not\_set'}
278 \textcolor{keywordflow}{    end if}
279     self%Names%casename = \textcolor{stringliteral}{'not\_set'}
280     \textcolor{comment}{!global time}
281     self%SimTime%CurrTime = 0.0
282     \textcolor{comment}{!global counters}
283     self%Sim%numdt = 0
284     self%Sim%lastOutNumDt = 0
285     self%Sim%numoutfile = 0
286     self%Sim%numTracer = 0
287     \textcolor{comment}{!Source parameters list}
288     \textcolor{keyword}{call }self%SrcProp%buildlists()
289     \textcolor{comment}{!Variable names}
290     \textcolor{keyword}{call }self%Var%buildvars()
291 
292     sizem=sizeof(self)
293     \textcolor{keyword}{call }simmemory%adddef(sizem)
294 
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_a878fdcfa67037a1bc8411995394c2bef}\label{namespacesimulationglobals__mod_a878fdcfa67037a1bc8411995394c2bef}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!setdimnames@{setdimnames}}
\index{setdimnames@{setdimnames}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{setdimnames()}{setdimnames()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::setdimnames (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1globals__class}{globals\+\_\+class}}), intent(inout)}]{self,  }\item[{type(node), intent(in), pointer}]{dim\+Node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



set the dimensions naming conventions. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 475 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
475     \textcolor{keywordtype}{class}(globals\_class), \textcolor{keywordtype}{intent(inout)} :: self
476     \textcolor{keywordtype}{type}(Node), \textcolor{keywordtype}{pointer}, \textcolor{keywordtype}{intent(in)} :: dimNode
477     \textcolor{keywordtype}{type}(string) :: tag
478 
479     tag=\textcolor{stringliteral}{"longitude"}
480     \textcolor{keyword}{call }self%setCurrVar(tag, self%Var%lon, self%Var%lonVariants, dimnode)
481     tag=\textcolor{stringliteral}{"latitude"}
482     \textcolor{keyword}{call }self%setCurrVar(tag, self%Var%lat, self%Var%latVariants, dimnode)
483     tag=\textcolor{stringliteral}{"vertical"}
484     \textcolor{keyword}{call }self%setCurrVar(tag, self%Var%level, self%Var%levelVariants, dimnode)
485     tag=\textcolor{stringliteral}{"time"}
486     \textcolor{keyword}{call }self%setCurrVar(tag, self%Var%time, self%Var%timeVariants, dimnode)
487 
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_afda1e73e6e0cd075875c70aded99d425}\label{namespacesimulationglobals__mod_afda1e73e6e0cd075875c70aded99d425}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!setdp@{setdp}}
\index{setdp@{setdp}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{setdp()}{setdp()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::setdp (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1simdefs__t}{simdefs\+\_\+t}}), intent(inout)}]{self,  }\item[{type(string), intent(in)}]{read\+\_\+dp }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Dp setting routine. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em self,read\+\_\+dp} & \\
\hline
\end{DoxyParams}


Definition at line 967 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
967     \textcolor{keywordtype}{implicit none}
968     \textcolor{keywordtype}{class}(simdefs\_t), \textcolor{keywordtype}{intent(inout)} :: self
969     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{intent(in)} :: read\_dp
970     \textcolor{keywordtype}{type}(string) :: outext
971     \textcolor{keywordtype}{integer} :: sizem
972     self%Dp=read\_dp%to\_number(kind=1.\_r4p)
973     \textcolor{keywordflow}{if} (self%Dp.le.0.0) \textcolor{keywordflow}{then}
974         outext=\textcolor{stringliteral}{'Dp must be positive and non-zero, stopping'}
975         \textcolor{keyword}{call }log%put(outext)
976         stop
977 \textcolor{keywordflow}{    endif}
978     sizem = sizeof(self%Dp)
979     \textcolor{keyword}{call }simmemory%adddef(sizem)
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_a0eced3f4367d08f3d0cb6ef2044bdc56}\label{namespacesimulationglobals__mod_a0eced3f4367d08f3d0cb6ef2044bdc56}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!setdt@{setdt}}
\index{setdt@{setdt}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{setdt()}{setdt()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::setdt (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1simdefs__t}{simdefs\+\_\+t}}), intent(inout)}]{self,  }\item[{type(string), intent(in)}]{read\+\_\+dt }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Dt setting routine. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em self,read\+\_\+dt} & \\
\hline
\end{DoxyParams}


Definition at line 989 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
989     \textcolor{keywordtype}{implicit none}
990     \textcolor{keywordtype}{class}(simdefs\_t), \textcolor{keywordtype}{intent(inout)} :: self
991     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{intent(in)} :: read\_dt
992     \textcolor{keywordtype}{type}(string) :: outext
993     \textcolor{keywordtype}{integer} :: sizem
994     self%dt=read\_dt%to\_number(kind=1.\_r4p)
995     \textcolor{keywordflow}{if} (self%dt.le.0.0) \textcolor{keywordflow}{then}
996         outext=\textcolor{stringliteral}{'dt must be positive and non-zero, stopping'}
997         \textcolor{keyword}{call }log%put(outext)
998         stop
999 \textcolor{keywordflow}{    endif}
1000     sizem = sizeof(self%dt)
1001     \textcolor{keyword}{call }simmemory%adddef(sizem)
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_ae6b88d15ddc389aedd73d600de0337df}\label{namespacesimulationglobals__mod_ae6b88d15ddc389aedd73d600de0337df}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!setgravity@{setgravity}}
\index{setgravity@{setgravity}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{setgravity()}{setgravity()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::setgravity (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1constants__t}{constants\+\_\+t}}), intent(inout)}]{self,  }\item[{type(vector), intent(in)}]{grav }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Gravity setting routine. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em self,grav} & \\
\hline
\end{DoxyParams}


Definition at line 839 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
839     \textcolor{keywordtype}{implicit none}
840     \textcolor{keywordtype}{class}(constants\_t), \textcolor{keywordtype}{intent(inout)} :: self
841     \textcolor{keywordtype}{type}(vector), \textcolor{keywordtype}{intent(in)} :: grav
842     \textcolor{keywordtype}{integer} :: sizem
843     \textcolor{keywordtype}{type}(string) :: outext
844     self%Gravity= grav
845     \textcolor{keywordflow}{if} (grav%x==mv) \textcolor{keywordflow}{then} \textcolor{comment}{!Gravity was not read, setting default}
846         self%Gravity= -9.81*ez
847         outext = \textcolor{stringliteral}{'       Gravity not specified, setting to default value = (0,0,-9.81)'}
848         \textcolor{keyword}{call }log%put(outext,.false.)
849 \textcolor{keywordflow}{    endif}
850     sizem=sizeof(self%Gravity)
851     \textcolor{keyword}{call }simmemory%adddef(sizem)
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_a422e3d203aad010489f541f645f63517}\label{namespacesimulationglobals__mod_a422e3d203aad010489f541f645f63517}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!setinputfilenames@{setinputfilenames}}
\index{setinputfilenames@{setinputfilenames}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{setinputfilenames()}{setinputfilenames()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::setinputfilenames (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1globals__class}{globals\+\_\+class}}), intent(inout)}]{self,  }\item[{type(string), dimension(\+:), intent(in)}]{filenames }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



set the name of the input data files 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 410 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
410     \textcolor{keywordtype}{class}(globals\_class), \textcolor{keywordtype}{intent(inout)} :: self
411     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{dimension(:)}, \textcolor{keywordtype}{intent(in)} :: filenames
412     \textcolor{keyword}{allocate}(self%Names%inputFile, source = filenames)
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_ab760ab6064743ff54237166301346616}\label{namespacesimulationglobals__mod_ab760ab6064743ff54237166301346616}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!setlastoutnumdt@{setlastoutnumdt}}
\index{setlastoutnumdt@{setlastoutnumdt}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{setlastoutnumdt()}{setlastoutnumdt()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::setlastoutnumdt (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1sim__t}{sim\+\_\+t}}), intent(inout)}]{self,  }\item[{integer, intent(in)}]{num }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Sets the number of time steps from last ouptut. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 654 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
654     \textcolor{keywordtype}{class}(sim\_t), \textcolor{keywordtype}{intent(inout)} :: self
655     \textcolor{keywordtype}{integer}, \textcolor{keywordtype}{intent(in)} :: num
656     self%lastOutNumDt = num
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_affd52c4c7b1c3f7ce282eeb7e4b4a359}\label{namespacesimulationglobals__mod_affd52c4c7b1c3f7ce282eeb7e4b4a359}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!setnamingconventions@{setnamingconventions}}
\index{setnamingconventions@{setnamingconventions}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{setnamingconventions()}{setnamingconventions()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::setnamingconventions (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1globals__class}{globals\+\_\+class}}), intent(inout)}]{self,  }\item[{type(string), dimension(\+:), intent(in)}]{filename }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



set the naming conventions. Imports names from given .xml naming files 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 422 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
422     \textcolor{keywordtype}{class}(globals\_class), \textcolor{keywordtype}{intent(inout)} :: self
423     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{dimension(:)}, \textcolor{keywordtype}{intent(in)} :: filename
424     \textcolor{keywordtype}{integer} :: i
425     \textcolor{keywordtype}{type}(string) :: outext, tag
426     \textcolor{keywordtype}{type}(Node), \textcolor{keywordtype}{pointer} :: xmldoc
427     \textcolor{keywordtype}{type}(Node), \textcolor{keywordtype}{pointer} :: varNode, dimNode
428 
429     \textcolor{keyword}{allocate}(self%Names%namingfilename, source = filename)
430     \textcolor{keywordflow}{do} i=1, \textcolor{keyword}{size}(self%Names%namingfilename)
431         \textcolor{keyword}{call }xmlreader%getFile(xmldoc,self%Names%namingfilename(i))
432         outext=\textcolor{stringliteral}{'-->Setting naming conventions from '}//self%Names%namingfilename(i)
433         \textcolor{keyword}{call }log%put(outext)
434         tag=\textcolor{stringliteral}{"naming"}          \textcolor{comment}{!base document node}
435         \textcolor{keyword}{call }xmlreader%gotoNode(xmldoc,xmldoc,tag)
436         tag=\textcolor{stringliteral}{"variables"}
437         \textcolor{keyword}{call }xmlreader%gotoNode(xmldoc,varnode,tag)
438         tag=\textcolor{stringliteral}{"dimensions"}
439         \textcolor{keyword}{call }xmlreader%gotoNode(xmldoc,dimnode,tag)
440         \textcolor{keyword}{call }self%setVarNames(varnode)
441         \textcolor{keyword}{call }self%setDimNames(dimnode)
442 \textcolor{keywordflow}{    end do}
443 
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_ada0b6ffc5e112afbd86cdaa8d9aa55d8}\label{namespacesimulationglobals__mod_ada0b6ffc5e112afbd86cdaa8d9aa55d8}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!setparam@{setparam}}
\index{setparam@{setparam}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{setparam()}{setparam()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::setparam (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1parameters__t}{parameters\+\_\+t}}), intent(inout)}]{self,  }\item[{type(string), intent(in)}]{parmkey,  }\item[{type(string), intent(in)}]{parmvalue }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Private parameter setting method. Builds the simulation parametric space from the input case file. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em self,parmkey,parmvalue} & \\
\hline
\end{DoxyParams}


Definition at line 708 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
708     \textcolor{keywordtype}{implicit none}
709     \textcolor{keywordtype}{class}(parameters\_t), \textcolor{keywordtype}{intent(inout)} :: self
710     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{intent(in)} :: parmkey
711     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{intent(in)} :: parmvalue
712     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{allocatable} :: dc(:)
713     \textcolor{keywordtype}{integer} :: i
714     \textcolor{keywordtype}{integer}, \textcolor{keywordtype}{dimension(6)} :: date
715     \textcolor{keywordtype}{integer} :: sizem
716     \textcolor{comment}{!add new parameters to this search}
717     \textcolor{keywordflow}{if} (parmkey%chars()==\textcolor{stringliteral}{"Integrator"}) \textcolor{keywordflow}{then}
718         self%Integrator=parmvalue%to\_number(kind=1\_i1p)
719         sizem=sizeof(self%Integrator)
720     \textcolor{keywordflow}{elseif}(parmkey%chars()==\textcolor{stringliteral}{"Threads"}) \textcolor{keywordflow}{then}
721         \textcolor{keywordflow}{if} (parmvalue /= \textcolor{stringliteral}{'auto'}) \textcolor{keywordflow}{then}
722             self%numOPMthreads=parmvalue%to\_number(kind=1\_i1p)
723             \textcolor{keyword}{call }ompmanager%setThreads(self%numOPMthreads)
724 \textcolor{keywordflow}{        end if}
725         sizem=sizeof(self%WarmUpTime)
726     \textcolor{keywordflow}{elseif}(parmkey%chars()==\textcolor{stringliteral}{"WarmUpTime"}) \textcolor{keywordflow}{then}
727         self%WarmUpTime=parmvalue%to\_number(kind=1.\_r4p)
728         sizem=sizeof(self%WarmUpTime)
729     \textcolor{keywordflow}{elseif}(parmkey%chars()==\textcolor{stringliteral}{"OutputWriteTime"}) \textcolor{keywordflow}{then}
730         self%OutputWriteTime=parmvalue%to\_number(kind=1.\_r4p)
731         sizem=sizeof(self%OutputWriteTime)
732     \textcolor{keywordflow}{elseif}(parmkey%chars()==\textcolor{stringliteral}{"StartTime"}) \textcolor{keywordflow}{then}
733         date = utils%getDateFromISOString(parmvalue)
734         self%StartTime = datetime(date(1),date(2),date(3),date(4),date(5),date(6))
735         \textcolor{keywordflow}{if} (.not. self%StartTime%isValid()) self%StartTime = datetime()
736         sizem=sizeof(self%StartTime)
737     \textcolor{keywordflow}{elseif}(parmkey%chars()==\textcolor{stringliteral}{"EndTime"}) \textcolor{keywordflow}{then}
738         date = utils%getDateFromISOString(parmvalue)
739         self%EndTime = datetime(date(1),date(2),date(3),date(4),date(5),date(6))
740         \textcolor{keywordflow}{if} (.not. self%EndTime%isValid()) self%EndTime = datetime()
741         sizem=sizeof(self%EndTime)
742     \textcolor{keywordflow}{elseif}(parmkey%chars()==\textcolor{stringliteral}{"BaseDateTime"}) \textcolor{keywordflow}{then}
743         date = utils%getDateFromISOString(parmvalue)
744         self%BaseDateTime = datetime(date(1),date(2),date(3),date(4),date(5),date(6))
745         \textcolor{keywordflow}{if} (.not. self%BaseDateTime%isValid()) self%BaseDateTime = datetime()
746         sizem=sizeof(self%BaseDateTime)
747     \textcolor{keywordflow}{elseif}(parmkey%chars()==\textcolor{stringliteral}{"BufferSize"}) \textcolor{keywordflow}{then}
748         self%BufferSize=parmvalue%to\_number(kind=1\_i\_p)
749         sizem=sizeof(self%BufferSize)
750     \textcolor{keywordflow}{elseif}(parmkey%chars()==\textcolor{stringliteral}{"OutputFormat"}) \textcolor{keywordflow}{then}
751         self%OutputFormat=parmvalue%to\_number(kind=1\_i1p)
752         sizem=sizeof(self%OutputFormat)
753 \textcolor{keywordflow}{    end if}
754     \textcolor{keyword}{call }simmemory%adddef(sizem)
755 
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_a7d41fc05216d326ae8c0b090362430d3}\label{namespacesimulationglobals__mod_a7d41fc05216d326ae8c0b090362430d3}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!setrho@{setrho}}
\index{setrho@{setrho}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{setrho()}{setrho()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::setrho (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1constants__t}{constants\+\_\+t}}), intent(inout)}]{self,  }\item[{type(string), intent(in)}]{read\+\_\+rho }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Rho\+\_\+\+Ref setting routine. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em self,read\+\_\+rho} & \\
\hline
\end{DoxyParams}


Definition at line 877 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
877     \textcolor{keywordtype}{implicit none}
878     \textcolor{keywordtype}{class}(constants\_t), \textcolor{keywordtype}{intent(inout)} :: self
879     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{intent(in)} :: read\_rho
880     \textcolor{keywordtype}{type}(string) :: outext
881     \textcolor{keywordtype}{integer} :: sizem
882     self%Rho\_ref=read\_rho%to\_number(kind=1.\_r4p)
883     \textcolor{keywordflow}{if} (self%Rho\_ref.le.0.0) \textcolor{keywordflow}{then}
884         outext=\textcolor{stringliteral}{'Rho\_ref must be positive and non-zero, stopping'}
885         \textcolor{keyword}{call }log%put(outext)
886         stop
887 \textcolor{keywordflow}{    endif}
888     sizem = sizeof(self%Rho\_ref)
889     \textcolor{keyword}{call }simmemory%adddef(sizem)
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_ad36c21a592a3230ce848804075abc97e}\label{namespacesimulationglobals__mod_ad36c21a592a3230ce848804075abc97e}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!setsmalldt@{setsmalldt}}
\index{setsmalldt@{setsmalldt}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{setsmalldt()}{setsmalldt()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::setsmalldt (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1constants__t}{constants\+\_\+t}}), intent(inout)}]{self,  }\item[{real(prec), intent(in)}]{dt }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



small\+Dt setting routine. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em self,dt} & \\
\hline
\end{DoxyParams}


Definition at line 920 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
920     \textcolor{keywordtype}{class}(constants\_t), \textcolor{keywordtype}{intent(inout)} :: self
921     \textcolor{keywordtype}{real(prec)}, \textcolor{keywordtype}{intent(in)} :: dt
922     \textcolor{keywordtype}{type}(string) :: outext
923     \textcolor{keywordtype}{integer} :: sizem
924     self%smallDt=dt/3.0
925     \textcolor{keywordflow}{if} (self%smallDt.le.0.0) \textcolor{keywordflow}{then}
926         outext=\textcolor{stringliteral}{'dt must be positive and non-zero, stopping'}
927         \textcolor{keyword}{call }log%put(outext)
928         stop
929 \textcolor{keywordflow}{    endif}
930     sizem = sizeof(self%smallDt)
931     \textcolor{keyword}{call }simmemory%adddef(sizem)
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_aefda4344f03a705055ad6cb97cb90c65}\label{namespacesimulationglobals__mod_aefda4344f03a705055ad6cb97cb90c65}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!settimedate@{settimedate}}
\index{settimedate@{settimedate}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{settimedate()}{settimedate()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::settimedate (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1globals__class}{globals\+\_\+class}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



initializes time stamp and date stamp variables 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 531 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
531     \textcolor{keywordtype}{class}(globals\_class), \textcolor{keywordtype}{intent(inout)} :: self
532     self%SimTime%TimeMax = self%Parameters%TimeMax
533     self%SimTime%StartDate = self%Parameters%StartTime
534     self%SimTime%EndDate = self%Parameters%EndTime
535     self%SimTime%BaseDateTime = self%Parameters%BaseDateTime
536     self%SimTime%CurrDate = self%SimTime%StartDate
537     self%SimTime%CurrTime = 0
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_a2c6fa0a9123d06b2110258ea200f4f52}\label{namespacesimulationglobals__mod_a2c6fa0a9123d06b2110258ea200f4f52}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!setvarnames@{setvarnames}}
\index{setvarnames@{setvarnames}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{setvarnames()}{setvarnames()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::setvarnames (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1globals__class}{globals\+\_\+class}}), intent(inout)}]{self,  }\item[{type(node), intent(in), pointer}]{var\+Node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



set the variables naming conventions. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 452 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
452     \textcolor{keywordtype}{class}(globals\_class), \textcolor{keywordtype}{intent(inout)} :: self
453     \textcolor{keywordtype}{type}(Node), \textcolor{keywordtype}{pointer}, \textcolor{keywordtype}{intent(in)} :: varNode
454     \textcolor{keywordtype}{type}(string) :: tag
455 
456     tag=\textcolor{stringliteral}{"eastward\_sea\_water\_velocity"}
457     \textcolor{keyword}{call }self%setCurrVar(tag, self%Var%u, self%Var%uVariants, varnode)
458     tag=\textcolor{stringliteral}{"northward\_sea\_water\_velocity"}
459     \textcolor{keyword}{call }self%setCurrVar(tag, self%Var%v, self%Var%vVariants, varnode)
460     tag=\textcolor{stringliteral}{"upward\_sea\_water\_velocity"}
461     \textcolor{keyword}{call }self%setCurrVar(tag, self%Var%w, self%Var%wVariants, varnode)
462     tag=\textcolor{stringliteral}{"sea\_water\_temperature"}
463     \textcolor{keyword}{call }self%setCurrVar(tag, self%Var%temp, self%Var%tempVariants, varnode)
464     tag=\textcolor{stringliteral}{"sea\_water\_salinity"}
465     \textcolor{keyword}{call }self%setCurrVar(tag, self%Var%sal, self%Var%salVariants, varnode)
466 
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulationglobals__mod_a36c2833caae3767434115cc966fe2c5d}\label{namespacesimulationglobals__mod_a36c2833caae3767434115cc966fe2c5d}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!setz0@{setz0}}
\index{setz0@{setz0}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{setz0()}{setz0()}}
{\footnotesize\ttfamily subroutine simulationglobals\+\_\+mod\+::setz0 (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulationglobals__mod_1_1constants__t}{constants\+\_\+t}}), intent(inout)}]{self,  }\item[{type(string), intent(in)}]{read\+\_\+z0 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Z0 setting routine. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em self,read\+\_\+z0} & \\
\hline
\end{DoxyParams}


Definition at line 861 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
861     \textcolor{keywordtype}{implicit none}
862     \textcolor{keywordtype}{class}(constants\_t), \textcolor{keywordtype}{intent(inout)} :: self
863     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{intent(in)} :: read\_z0
864     \textcolor{keywordtype}{integer} :: sizem
865     self%Z0=read\_z0%to\_number(kind=1.\_r4p)
866     sizem = sizeof(self%Z0)
867     \textcolor{keyword}{call }simmemory%adddef(sizem)
\end{DoxyCode}


\subsection{Variable Documentation}
\mbox{\Hypertarget{namespacesimulationglobals__mod_acf1e2786d81bd0fe337a8458efce8733}\label{namespacesimulationglobals__mod_acf1e2786d81bd0fe337a8458efce8733}} 
\index{simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}!globals@{globals}}
\index{globals@{globals}!simulationglobals\+\_\+mod@{simulationglobals\+\_\+mod}}
\subsubsection{\texorpdfstring{globals}{globals}}
{\footnotesize\ttfamily type(\mbox{\hyperlink{structsimulationglobals__mod_1_1globals__class}{globals\+\_\+class}}), public simulationglobals\+\_\+mod\+::globals}



Definition at line 214 of file simulation\+Globals.\+f90.


\begin{DoxyCode}
214     \textcolor{keywordtype}{type}(globals\_class) :: Globals
\end{DoxyCode}
