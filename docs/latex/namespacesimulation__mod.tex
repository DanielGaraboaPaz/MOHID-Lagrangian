\hypertarget{namespacesimulation__mod}{}\section{simulation\+\_\+mod Module Reference}
\label{namespacesimulation__mod}\index{simulation\+\_\+mod@{simulation\+\_\+mod}}


Module to hold the simulation class and its methods. This is the only class that is exposed to an external program, as it encapsulates every other class and method.  


\subsection*{Data Types}
\begin{DoxyCompactItemize}
\item 
type \mbox{\hyperlink{structsimulation__mod_1_1simulation__class}{simulation\+\_\+class}}
\end{DoxyCompactItemize}
\subsection*{Functions/\+Subroutines}
\begin{DoxyCompactItemize}
\item 
subroutine \mbox{\hyperlink{namespacesimulation__mod_a73bd78c4ac76c51f1e10f5847c25c4df}{run}} (self)
\begin{DoxyCompactList}\small\item\em Simulation run method. Runs the initialized case main time cycle. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__mod_aedbba2bb458cbcd7eb93938a5f7b5940}{initsimulation}} (self, casefilename, outpath)
\begin{DoxyCompactList}\small\item\em Simulation initialization method. Effectively builds and populates the simulation objects that will be used latter on. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__mod_a87a5141e4516b9610a6e4f0d2ff2d719}{togglesources}} (self)
\begin{DoxyCompactList}\small\item\em Simulation method to activate and deactivate Sources based on the GlobalsSim\+TimeCurr\+Time. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__mod_a13aa0745f4601e3f418143dab2f18276}{blocksemitt}} (self)
\begin{DoxyCompactList}\small\item\em Simulation method to call the Blocks to emitt tracers at current Time. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__mod_a058892630af07fc0fe8a4bffec531c6a}{blocksdistribute}} (self)
\begin{DoxyCompactList}\small\item\em Simulation method to call the Blocks to distribute Tracers at current Time. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__mod_a8390f0a56ff2678d144af1dd09517a5e}{blocksconsolidate}} (self)
\begin{DoxyCompactList}\small\item\em Simulation method to call the Blocks to consolidate the Tracer array at current Time and optimize background memory useage. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__mod_a2fbc294996a615647983ec637b83cfc0}{blockstracerstosv}} (self)
\begin{DoxyCompactList}\small\item\em Simulation method to call the Blocks to build their State Vector (SV) from the Tracer list at current Time. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__mod_ab2e7a1b0f131ab6fe40454d32cb3e24f}{blocksrunsolver}} (self)
\begin{DoxyCompactList}\small\item\em Simulation method to call the Blocks to run the Solver at current Time. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__mod_a5eeea0cb6e0e94c5fd0336a13d635866}{blockssvtotracers}} (self)
\begin{DoxyCompactList}\small\item\em Simulation method to call the Blocks to decode their State Vector (SV) back to the Tracer objects on the list at current Time. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__mod_a4cec8fb4baf1b2f69cd2699b0c5b9a55}{blockscleansv}} (self)
\begin{DoxyCompactList}\small\item\em Simulation method to call the Blocks to clean their State Vector (SV) at current Time. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__mod_a844f0fae91502f3fc79cc1223f55a86c}{updatesimdatetime}} (self)
\begin{DoxyCompactList}\small\item\em Simulation method to update the date and time variables. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__mod_a629f51ee8ca4d2ece7f039a0114b1ef4}{inputdata}} (self)
\begin{DoxyCompactList}\small\item\em Simulation method to call the input streamer reading methods at current Time. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__mod_a5735e9ecb39f15061f3d766b0de7809d}{outputstepdata}} (self)
\begin{DoxyCompactList}\small\item\em Simulation method to call the output streamer writting methods at current Time. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__mod_a447c6d709de6aa360a65d39d660e627b}{setinitialstate}} (self)
\begin{DoxyCompactList}\small\item\em Simulation method to distribute the Sources to the Blocks, allocate the respective Tracers and redistribute if needed. \end{DoxyCompactList}\item 
integer function \mbox{\hyperlink{namespacesimulation__mod_a0ad485eab624ffa4df282f1da8d9f214}{gettracertotals}} (self)
\begin{DoxyCompactList}\small\item\em Simulation method to count Tracer numbers. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__mod_aba126a8e0575cabb3bef6ab395002b3c}{printtracertotals}} (self)
\begin{DoxyCompactList}\small\item\em Simulation method to count Tracer numbers. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__mod_acc5fa823c8dd599de8feda8988c224f2}{settracermemory}} (self, ntrc)
\begin{DoxyCompactList}\small\item\em Simulation method to account for Tracer memory consumption. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__mod_a2b8198a9fb3f7671c6b45192a0b9740c}{decomposedomain}} (self)
\begin{DoxyCompactList}\small\item\em Simulation method to do domain decomposition and define the Blocks. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__mod_a4285722eaa589fa671233554b54c74f8}{closesimulation}} (self)
\begin{DoxyCompactList}\small\item\em Simulation finishing method. Closes output files and writes the final messages. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Module to hold the simulation class and its methods. This is the only class that is exposed to an external program, as it encapsulates every other class and method. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas 
\end{DoxyAuthor}


\subsection{Function/\+Subroutine Documentation}
\mbox{\Hypertarget{namespacesimulation__mod_a4cec8fb4baf1b2f69cd2699b0c5b9a55}\label{namespacesimulation__mod_a4cec8fb4baf1b2f69cd2699b0c5b9a55}} 
\index{simulation\+\_\+mod@{simulation\+\_\+mod}!blockscleansv@{blockscleansv}}
\index{blockscleansv@{blockscleansv}!simulation\+\_\+mod@{simulation\+\_\+mod}}
\subsubsection{\texorpdfstring{blockscleansv()}{blockscleansv()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+mod\+::blockscleansv (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__mod_1_1simulation__class}{simulation\+\_\+class}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Simulation method to call the Blocks to clean their State Vector (SV) at current Time. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 356 of file simulation.\+f90.


\begin{DoxyCode}
356     \textcolor{keywordtype}{class}(simulation\_class), \textcolor{keywordtype}{intent(inout)} :: self
357     \textcolor{keywordtype}{integer} :: i
358     \textcolor{keyword}{call }self%timerSVOps%Tic()
359     \textcolor{comment}{!$OMP PARALLEL PRIVATE(i)}
360     \textcolor{comment}{!$OMP DO}
361     \textcolor{keywordflow}{do} i=1, \textcolor{keyword}{size}(sblock)
362         \textcolor{keyword}{call }sblock(i)%CleanSV()
363 \textcolor{keywordflow}{    enddo}
364     \textcolor{comment}{!$OMP END DO}
365     \textcolor{comment}{!$OMP END PARALLEL}
366     \textcolor{keyword}{call }self%timerSVOps%Toc()
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__mod_a8390f0a56ff2678d144af1dd09517a5e}\label{namespacesimulation__mod_a8390f0a56ff2678d144af1dd09517a5e}} 
\index{simulation\+\_\+mod@{simulation\+\_\+mod}!blocksconsolidate@{blocksconsolidate}}
\index{blocksconsolidate@{blocksconsolidate}!simulation\+\_\+mod@{simulation\+\_\+mod}}
\subsubsection{\texorpdfstring{blocksconsolidate()}{blocksconsolidate()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+mod\+::blocksconsolidate (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__mod_1_1simulation__class}{simulation\+\_\+class}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Simulation method to call the Blocks to consolidate the Tracer array at current Time and optimize background memory useage. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 273 of file simulation.\+f90.


\begin{DoxyCode}
273     \textcolor{keywordtype}{class}(simulation\_class), \textcolor{keywordtype}{intent(inout)} :: self
274     \textcolor{keywordtype}{integer} :: i
275     \textcolor{keyword}{call }self%timerPrep%Tic()
276     \textcolor{comment}{!$OMP PARALLEL PRIVATE(i)}
277     \textcolor{comment}{!$OMP DO}
278     \textcolor{keywordflow}{do} i=1, \textcolor{keyword}{size}(sblock)
279         \textcolor{keyword}{call }sblock(i)%ConsolidateArrays()
280         \textcolor{keyword}{call }sblock(i)%ShedMemory()
281 \textcolor{keywordflow}{    enddo}
282     \textcolor{comment}{!$OMP END DO}
283     \textcolor{comment}{!$OMP END PARALLEL}
284     \textcolor{keyword}{call }self%timerPrep%Toc()
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__mod_a058892630af07fc0fe8a4bffec531c6a}\label{namespacesimulation__mod_a058892630af07fc0fe8a4bffec531c6a}} 
\index{simulation\+\_\+mod@{simulation\+\_\+mod}!blocksdistribute@{blocksdistribute}}
\index{blocksdistribute@{blocksdistribute}!simulation\+\_\+mod@{simulation\+\_\+mod}}
\subsubsection{\texorpdfstring{blocksdistribute()}{blocksdistribute()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+mod\+::blocksdistribute (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__mod_1_1simulation__class}{simulation\+\_\+class}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Simulation method to call the Blocks to distribute Tracers at current Time. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 257 of file simulation.\+f90.


\begin{DoxyCode}
257     \textcolor{keywordtype}{class}(simulation\_class), \textcolor{keywordtype}{intent(inout)} :: self
258     \textcolor{keywordtype}{integer} :: i
259     \textcolor{keyword}{call }self%timerPrep%Tic()
260     \textcolor{keywordflow}{do} i=1, \textcolor{keyword}{size}(sblock)
261         \textcolor{keyword}{call }sblock(i)%DistributeTracers()
262 \textcolor{keywordflow}{    enddo}
263     \textcolor{keyword}{call }self%timerPrep%Toc()
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__mod_a13aa0745f4601e3f418143dab2f18276}\label{namespacesimulation__mod_a13aa0745f4601e3f418143dab2f18276}} 
\index{simulation\+\_\+mod@{simulation\+\_\+mod}!blocksemitt@{blocksemitt}}
\index{blocksemitt@{blocksemitt}!simulation\+\_\+mod@{simulation\+\_\+mod}}
\subsubsection{\texorpdfstring{blocksemitt()}{blocksemitt()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+mod\+::blocksemitt (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__mod_1_1simulation__class}{simulation\+\_\+class}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Simulation method to call the Blocks to emitt tracers at current Time. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 241 of file simulation.\+f90.


\begin{DoxyCode}
241     \textcolor{keywordtype}{class}(simulation\_class), \textcolor{keywordtype}{intent(inout)} :: self
242     \textcolor{keywordtype}{integer} :: i
243     \textcolor{keyword}{call }self%timerPrep%Tic()
244     \textcolor{keywordflow}{do} i=1, \textcolor{keyword}{size}(sblock)
245         \textcolor{keyword}{call }sblock(i)%CallEmitter()
246 \textcolor{keywordflow}{    enddo}
247     \textcolor{keyword}{call }self%timerPrep%Toc()
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__mod_ab2e7a1b0f131ab6fe40454d32cb3e24f}\label{namespacesimulation__mod_ab2e7a1b0f131ab6fe40454d32cb3e24f}} 
\index{simulation\+\_\+mod@{simulation\+\_\+mod}!blocksrunsolver@{blocksrunsolver}}
\index{blocksrunsolver@{blocksrunsolver}!simulation\+\_\+mod@{simulation\+\_\+mod}}
\subsubsection{\texorpdfstring{blocksrunsolver()}{blocksrunsolver()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+mod\+::blocksrunsolver (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__mod_1_1simulation__class}{simulation\+\_\+class}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Simulation method to call the Blocks to run the Solver at current Time. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 314 of file simulation.\+f90.


\begin{DoxyCode}
314     \textcolor{keywordtype}{class}(simulation\_class), \textcolor{keywordtype}{intent(inout)} :: self
315     \textcolor{keywordtype}{integer} :: i
316     \textcolor{keywordflow}{if} (globals%Sim%getnumdt() /= 1 ) \textcolor{keywordflow}{then}
317         \textcolor{keyword}{call }self%timerSolver%Tic()
318         \textcolor{comment}{!$OMP PARALLEL PRIVATE(i)}
319         \textcolor{comment}{!$OMP DO}
320         \textcolor{keywordflow}{do} i=1, \textcolor{keyword}{size}(sblock)
321             \textcolor{keyword}{call }sblock(i)%RunSolver()
322 \textcolor{keywordflow}{        enddo}
323         \textcolor{comment}{!$OMP END DO}
324         \textcolor{comment}{!$OMP END PARALLEL}
325         \textcolor{keyword}{call }self%timerSolver%Toc()
326 \textcolor{keywordflow}{    end if}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__mod_a5eeea0cb6e0e94c5fd0336a13d635866}\label{namespacesimulation__mod_a5eeea0cb6e0e94c5fd0336a13d635866}} 
\index{simulation\+\_\+mod@{simulation\+\_\+mod}!blockssvtotracers@{blockssvtotracers}}
\index{blockssvtotracers@{blockssvtotracers}!simulation\+\_\+mod@{simulation\+\_\+mod}}
\subsubsection{\texorpdfstring{blockssvtotracers()}{blockssvtotracers()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+mod\+::blockssvtotracers (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__mod_1_1simulation__class}{simulation\+\_\+class}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Simulation method to call the Blocks to decode their State Vector (SV) back to the Tracer objects on the list at current Time. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 336 of file simulation.\+f90.


\begin{DoxyCode}
336     \textcolor{keywordtype}{class}(simulation\_class), \textcolor{keywordtype}{intent(inout)} :: self
337     \textcolor{keywordtype}{integer} :: i
338     \textcolor{keyword}{call }self%timerSVOps%Toc()
339     \textcolor{comment}{!$OMP PARALLEL PRIVATE(i)}
340     \textcolor{comment}{!$OMP DO}
341     \textcolor{keywordflow}{do} i=1, \textcolor{keyword}{size}(sblock)
342         \textcolor{keyword}{call }sblock(i)%SVtoTracers()
343 \textcolor{keywordflow}{    enddo}
344     \textcolor{comment}{!$OMP END DO}
345     \textcolor{comment}{!$OMP END PARALLEL}
346     \textcolor{keyword}{call }self%timerSVOps%Toc()
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__mod_a2fbc294996a615647983ec637b83cfc0}\label{namespacesimulation__mod_a2fbc294996a615647983ec637b83cfc0}} 
\index{simulation\+\_\+mod@{simulation\+\_\+mod}!blockstracerstosv@{blockstracerstosv}}
\index{blockstracerstosv@{blockstracerstosv}!simulation\+\_\+mod@{simulation\+\_\+mod}}
\subsubsection{\texorpdfstring{blockstracerstosv()}{blockstracerstosv()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+mod\+::blockstracerstosv (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__mod_1_1simulation__class}{simulation\+\_\+class}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Simulation method to call the Blocks to build their State Vector (SV) from the Tracer list at current Time. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 294 of file simulation.\+f90.


\begin{DoxyCode}
294     \textcolor{keywordtype}{class}(simulation\_class), \textcolor{keywordtype}{intent(inout)} :: self
295     \textcolor{keywordtype}{integer} :: i
296     \textcolor{keyword}{call }self%timerSVOps%Tic()
297     \textcolor{comment}{!$OMP PARALLEL PRIVATE(i)}
298     \textcolor{comment}{!$OMP DO}
299     \textcolor{keywordflow}{do} i=1, \textcolor{keyword}{size}(sblock)
300         \textcolor{keyword}{call }sblock(i)%TracersToSV()
301 \textcolor{keywordflow}{    enddo}
302     \textcolor{comment}{!$OMP END DO}
303     \textcolor{comment}{!$OMP END PARALLEL}
304     \textcolor{keyword}{call }self%timerSVOps%Toc()
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__mod_a4285722eaa589fa671233554b54c74f8}\label{namespacesimulation__mod_a4285722eaa589fa671233554b54c74f8}} 
\index{simulation\+\_\+mod@{simulation\+\_\+mod}!closesimulation@{closesimulation}}
\index{closesimulation@{closesimulation}!simulation\+\_\+mod@{simulation\+\_\+mod}}
\subsubsection{\texorpdfstring{closesimulation()}{closesimulation()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+mod\+::closesimulation (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__mod_1_1simulation__class}{simulation\+\_\+class}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Simulation finishing method. Closes output files and writes the final messages. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 508 of file simulation.\+f90.


\begin{DoxyCode}
508     \textcolor{keywordtype}{class}(simulation\_class), \textcolor{keywordtype}{intent(inout)} :: self
509     \textcolor{keywordtype}{type}(string) :: outext
510     outext=\textcolor{stringliteral}{'Simulation ended, freeing resources. See you next time'}
511     \textcolor{keyword}{call }log%put(outext)
512     \textcolor{keyword}{call }log%finalize()
513     \textcolor{keyword}{call }self%OutputStreamer%finalize()
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__mod_a2b8198a9fb3f7671c6b45192a0b9740c}\label{namespacesimulation__mod_a2b8198a9fb3f7671c6b45192a0b9740c}} 
\index{simulation\+\_\+mod@{simulation\+\_\+mod}!decomposedomain@{decomposedomain}}
\index{decomposedomain@{decomposedomain}!simulation\+\_\+mod@{simulation\+\_\+mod}}
\subsubsection{\texorpdfstring{decomposedomain()}{decomposedomain()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+mod\+::decomposedomain (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__mod_1_1simulation__class}{simulation\+\_\+class}}), intent(in)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Simulation method to do domain decomposition and define the Blocks. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 489 of file simulation.\+f90.


\begin{DoxyCode}
489     \textcolor{keywordtype}{class}(simulation\_class), \textcolor{keywordtype}{intent(in)} :: self
490     \textcolor{keywordtype}{type}(string) :: outext
491     \textcolor{keywordflow}{if} (globals%SimDefs%autoblocksize) \textcolor{keywordflow}{then}
492         \textcolor{keyword}{call }allocblocks(globals%SimDefs%numblocks)
493     \textcolor{keywordflow}{else}
494         outext=\textcolor{stringliteral}{'[DecomposeDomain]: Only automatic Block sizing at the moment, stoping'}
495         \textcolor{keyword}{call }log%put(outext)
496         stop
497 \textcolor{keywordflow}{    end if}
498     \textcolor{comment}{! Initializing the Blocks}
499     \textcolor{keyword}{call }setblocks(globals%SimDefs%autoblocksize,globals%SimDefs%numblocks,globals%SimDefs%numblocksx,
      globals%SimDefs%numblocksy)
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacesimulation__mod_a2b8198a9fb3f7671c6b45192a0b9740c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacesimulation__mod_a0ad485eab624ffa4df282f1da8d9f214}\label{namespacesimulation__mod_a0ad485eab624ffa4df282f1da8d9f214}} 
\index{simulation\+\_\+mod@{simulation\+\_\+mod}!gettracertotals@{gettracertotals}}
\index{gettracertotals@{gettracertotals}!simulation\+\_\+mod@{simulation\+\_\+mod}}
\subsubsection{\texorpdfstring{gettracertotals()}{gettracertotals()}}
{\footnotesize\ttfamily integer function simulation\+\_\+mod\+::gettracertotals (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__mod_1_1simulation__class}{simulation\+\_\+class}}), intent(in)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Simulation method to count Tracer numbers. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 439 of file simulation.\+f90.


\begin{DoxyCode}
439     \textcolor{keywordtype}{class}(simulation\_class), \textcolor{keywordtype}{intent(in)} :: self
440     \textcolor{keywordtype}{integer} :: i, total
441     total = 0
442     \textcolor{keywordflow}{do} i=1, \textcolor{keyword}{size}(sblock)
443         total = total + sblock(i)%numAllocTracers()
444 \textcolor{keywordflow}{    enddo}
445     gettracertotals = total
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__mod_aedbba2bb458cbcd7eb93938a5f7b5940}\label{namespacesimulation__mod_aedbba2bb458cbcd7eb93938a5f7b5940}} 
\index{simulation\+\_\+mod@{simulation\+\_\+mod}!initsimulation@{initsimulation}}
\index{initsimulation@{initsimulation}!simulation\+\_\+mod@{simulation\+\_\+mod}}
\subsubsection{\texorpdfstring{initsimulation()}{initsimulation()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+mod\+::initsimulation (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__mod_1_1simulation__class}{simulation\+\_\+class}}), intent(inout)}]{self,  }\item[{type(string), intent(in)}]{casefilename,  }\item[{type(string), intent(in)}]{outpath }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Simulation initialization method. Effectively builds and populates the simulation objects that will be used latter on. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}

\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em self,casefilename,outpath} & \\
\hline
\mbox{\tt in}  & {\em casefilename} & case file name\\
\hline
\mbox{\tt in}  & {\em outpath} & Output path \\
\hline
\end{DoxyParams}


Definition at line 154 of file simulation.\+f90.


\begin{DoxyCode}
154     \textcolor{keywordtype}{class}(simulation\_class), \textcolor{keywordtype}{intent(inout)} :: self
155     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{intent(in)} :: casefilename
156     \textcolor{keywordtype}{type}(string), \textcolor{keywordtype}{intent(in)} :: outpath
157     \textcolor{keywordtype}{type}(string) :: outext, aux
158 
159     aux = \textcolor{stringliteral}{'Simulation::initialization'}
160     \textcolor{keyword}{call }self%timerInit%initialize(aux)
161     \textcolor{keyword}{call }self%timerInit%Tic()
162 
163     aux = \textcolor{stringliteral}{'Simulation::Total'}
164     \textcolor{keyword}{call }self%timerTotalRun%initialize(aux)
165     aux = \textcolor{stringliteral}{'Simulation::Input'}
166     \textcolor{keyword}{call }self%timerInput%initialize(aux)
167     aux = \textcolor{stringliteral}{'Simulation::Output'}
168     \textcolor{keyword}{call }self%timerOutput%initialize(aux)
169     aux = \textcolor{stringliteral}{'Simulation::Preparation'}
170     \textcolor{keyword}{call }self%timerPrep%initialize(aux)
171     aux = \textcolor{stringliteral}{'Simulation::SV encoding/decoding'}
172     \textcolor{keyword}{call }self%timerSVOps%initialize(aux)
173     aux = \textcolor{stringliteral}{'Simulation::Solver'}
174     \textcolor{keyword}{call }self%timerSolver%initialize(aux)
175 
176     \textcolor{comment}{! Initialize logger}
177     \textcolor{keyword}{call }log%initialize(outpath, casefilename%basename(strip\_last\_extension=.true.))
178     \textcolor{comment}{!Print licences and build info}
179     \textcolor{keyword}{call }printlicpreamble
180     \textcolor{comment}{!initialize parallel services manager}
181     \textcolor{keyword}{call }ompmanager%initialize()
182     \textcolor{comment}{!initializing memory log}
183     \textcolor{keyword}{call }simmemory%initialize()
184     \textcolor{comment}{!setting every global variable and input parameter to their default}
185     \textcolor{keyword}{call }globals%initialize(outpath = outpath)
186     \textcolor{comment}{!initializing geometry class}
187     \textcolor{keyword}{call }geometry%initialize()
188     \textcolor{comment}{!Check if case file has .xml extension}
189     \textcolor{keywordflow}{if} (casefilename%extension() == \textcolor{stringliteral}{'.xml'}) \textcolor{keywordflow}{then}
190         \textcolor{comment}{! Initialization routines to build the simulation from the input case file}
191         \textcolor{keyword}{call }initfromxml(casefilename)
192     \textcolor{keywordflow}{else}
193         outext=\textcolor{stringliteral}{'[initSimulation]: only .xml input files are supported at the time. Stopping'}
194         \textcolor{keyword}{call }log%put(outext)
195         stop
196 \textcolor{keywordflow}{    endif}    
197     \textcolor{comment}{!Case was read and now we can build/initialize our simulation objects that are case-dependent}
198     \textcolor{comment}{!initilize simulation bounding box}
199     \textcolor{keyword}{call }bbox%initialize()
200     \textcolor{comment}{!decomposing the domain and initializing the Simulation Blocks}
201     \textcolor{keyword}{call }self%decompose()
202     \textcolor{comment}{!Distributing Sources}
203     \textcolor{keyword}{call }self%setInitialState()
204     \textcolor{comment}{!printing memory occupation at the time}
205     \textcolor{comment}{!call SimMemory%detailedprint()}
206     \textcolor{comment}{!Initializing input file streamer}
207     \textcolor{keyword}{call }self%InputStreamer%initialize(sblock)
208     \textcolor{keyword}{call }self%InputStreamer%print()
209     \textcolor{comment}{!Initializing output file streamer}
210     \textcolor{keyword}{call }self%OutputStreamer%initialize()
211     \textcolor{comment}{!Writing the domain to file}
212     \textcolor{keyword}{call }self%OutputStreamer%WriteDomain(globals%Names%casename, bbox, geometry%getnumPoints(bbox), sblock)
213 
214     \textcolor{keyword}{call }self%timerInit%Toc()
215     \textcolor{keyword}{call }self%timerInit%print()
216 
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacesimulation__mod_aedbba2bb458cbcd7eb93938a5f7b5940_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacesimulation__mod_a629f51ee8ca4d2ece7f039a0114b1ef4}\label{namespacesimulation__mod_a629f51ee8ca4d2ece7f039a0114b1ef4}} 
\index{simulation\+\_\+mod@{simulation\+\_\+mod}!inputdata@{inputdata}}
\index{inputdata@{inputdata}!simulation\+\_\+mod@{simulation\+\_\+mod}}
\subsubsection{\texorpdfstring{inputdata()}{inputdata()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+mod\+::inputdata (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__mod_1_1simulation__class}{simulation\+\_\+class}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Simulation method to call the input streamer reading methods at current Time. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 386 of file simulation.\+f90.


\begin{DoxyCode}
386     \textcolor{keywordtype}{class}(simulation\_class), \textcolor{keywordtype}{intent(inout)} :: self
387     \textcolor{keyword}{call }self%timerInput%Tic()
388     \textcolor{keyword}{call }self%InputStreamer%loadDataFromStack(bbox, sblock)
389     \textcolor{keyword}{call }self%timerInput%Toc()
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__mod_a5735e9ecb39f15061f3d766b0de7809d}\label{namespacesimulation__mod_a5735e9ecb39f15061f3d766b0de7809d}} 
\index{simulation\+\_\+mod@{simulation\+\_\+mod}!outputstepdata@{outputstepdata}}
\index{outputstepdata@{outputstepdata}!simulation\+\_\+mod@{simulation\+\_\+mod}}
\subsubsection{\texorpdfstring{outputstepdata()}{outputstepdata()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+mod\+::outputstepdata (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__mod_1_1simulation__class}{simulation\+\_\+class}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Simulation method to call the output streamer writting methods at current Time. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 399 of file simulation.\+f90.


\begin{DoxyCode}
399     \textcolor{keywordtype}{class}(simulation\_class), \textcolor{keywordtype}{intent(inout)} :: self
400     \textcolor{keyword}{call }self%timerOutput%Tic()
401     \textcolor{keyword}{call }self%OutputStreamer%WriteStep(sblock, self%getTracerTotals(), self%timerTotalRun)
402     \textcolor{keyword}{call }self%timerOutput%Toc()
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__mod_aba126a8e0575cabb3bef6ab395002b3c}\label{namespacesimulation__mod_aba126a8e0575cabb3bef6ab395002b3c}} 
\index{simulation\+\_\+mod@{simulation\+\_\+mod}!printtracertotals@{printtracertotals}}
\index{printtracertotals@{printtracertotals}!simulation\+\_\+mod@{simulation\+\_\+mod}}
\subsubsection{\texorpdfstring{printtracertotals()}{printtracertotals()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+mod\+::printtracertotals (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__mod_1_1simulation__class}{simulation\+\_\+class}}), intent(in)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Simulation method to count Tracer numbers. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 454 of file simulation.\+f90.


\begin{DoxyCode}
454     \textcolor{keywordtype}{class}(simulation\_class), \textcolor{keywordtype}{intent(in)} :: self
455     \textcolor{keywordtype}{type}(string) :: outext, temp
456     temp = self%getTracerTotals()
457     outext=\textcolor{stringliteral}{'-->'}//temp //\textcolor{stringliteral}{' Tracers allocated'}
458     \textcolor{keyword}{call }log%put(outext,.false.)
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__mod_a73bd78c4ac76c51f1e10f5847c25c4df}\label{namespacesimulation__mod_a73bd78c4ac76c51f1e10f5847c25c4df}} 
\index{simulation\+\_\+mod@{simulation\+\_\+mod}!run@{run}}
\index{run@{run}!simulation\+\_\+mod@{simulation\+\_\+mod}}
\subsubsection{\texorpdfstring{run()}{run()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+mod\+::run (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__mod_1_1simulation__class}{simulation\+\_\+class}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Simulation run method. Runs the initialized case main time cycle. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 83 of file simulation.\+f90.


\begin{DoxyCode}
83     \textcolor{keywordtype}{class}(simulation\_class), \textcolor{keywordtype}{intent(inout)} :: self
84     \textcolor{keywordtype}{type}(string) :: outext
85     \textcolor{keywordtype}{logical} :: dbg = .false.
86 
87     \textcolor{keyword}{call }self%OutputStreamer%writeOutputHeader()
88     
89     outext=\textcolor{stringliteral}{'->Building initial state'}
90     \textcolor{keyword}{call }log%put(outext)
91 
92     \textcolor{comment}{!main time cycle}
93     \textcolor{keywordflow}{do} \textcolor{keywordflow}{while} (globals%SimTime%CurrTime < globals%Parameters%TimeMax)
94         \textcolor{keyword}{call }globals%Sim%increment\_numdt()
95         \textcolor{keyword}{call }self%timerTotalRun%Tic()
96         \textcolor{comment}{!activate suitable Sources}
97         \textcolor{keywordflow}{if} (dbg) print*, \textcolor{stringliteral}{'self%ToggleSources'}
98         \textcolor{keyword}{call }self%ToggleSources()
99         \textcolor{comment}{!emitt Tracers from active Sources}
100         \textcolor{keywordflow}{if} (dbg) print*, \textcolor{stringliteral}{'self%BlocksEmitt'}
101         \textcolor{keyword}{call }self%BlocksEmitt()
102         \textcolor{comment}{!Optimize Block Tracer lists and memory use}
103         \textcolor{keywordflow}{if} (dbg) print*, \textcolor{stringliteral}{'self%BlocksConsolidate'}
104         \textcolor{keyword}{call }self%BlocksConsolidate()
105         \textcolor{comment}{!Distribute Tracers and Sources by Blocks}
106         \textcolor{keywordflow}{if} (dbg) print*, \textcolor{stringliteral}{'self%BlocksDistribute'}
107         \textcolor{keyword}{call }self%BlocksDistribute()
108         \textcolor{comment}{!Build SV}
109         \textcolor{keywordflow}{if} (dbg) print*, \textcolor{stringliteral}{'self%BlocksTracersToSV'}
110         \textcolor{keyword}{call }self%BlocksTracersToSV()
111         \textcolor{comment}{!load hydrodynamic fields from files (curents, wind, waves, ...)}
112         \textcolor{keywordflow}{if} (dbg) print*, \textcolor{stringliteral}{'self%InputData'}
113         \textcolor{keyword}{call }self%InputData()
114         \textcolor{comment}{!Update all tracers - Integration step}
115         \textcolor{keywordflow}{if} (dbg) print*, \textcolor{stringliteral}{'self%BlocksRunSolver'}
116         \textcolor{keyword}{call }self%BlocksRunSolver()
117         \textcolor{comment}{!SV to Tracers}
118         \textcolor{keywordflow}{if} (dbg) print*, \textcolor{stringliteral}{'self%BlocksSVtoTracers'}
119         \textcolor{keyword}{call }self%BlocksSVtoTracers()
120         \textcolor{comment}{!Write results if time to do so}
121         \textcolor{keywordflow}{if} (dbg) print*, \textcolor{stringliteral}{'self%OutputStepData'}
122         \textcolor{keyword}{call }self%OutputStepData()
123         \textcolor{comment}{!Clean SV}
124         \textcolor{keywordflow}{if} (dbg) print*, \textcolor{stringliteral}{'self%BlocksCleanSV'}
125         \textcolor{keyword}{call }self%BlocksCleanSV()
126         \textcolor{comment}{!update Simulation time}
127         \textcolor{keywordflow}{if} (dbg) print*, \textcolor{stringliteral}{'self%updateSimDateTime'}
128         \textcolor{keyword}{call }self%updateSimDateTime()
129         \textcolor{comment}{!print*, 'Global time is ', Globals%SimTime%CurrTime}
130         \textcolor{comment}{!print*, 'Can we continue?'}
131         \textcolor{comment}{!read (*,*)}
132         \textcolor{keyword}{call }self%timerTotalRun%Toc()
133 \textcolor{keywordflow}{    enddo}
134 
135     \textcolor{keyword}{call }self%setTracerMemory()
136     \textcolor{comment}{!call SimMemory%detailedprint()}
137     \textcolor{keyword}{call }self%timerTotalRun%print()
138     \textcolor{keyword}{call }self%timerPrep%print()
139     \textcolor{keyword}{call }self%timerSVOps%print()
140     \textcolor{keyword}{call }self%timerSolver%print()
141     \textcolor{keyword}{call }self%timerInput%print()
142     \textcolor{keyword}{call }self%timerOutput%print()
143 
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__mod_a447c6d709de6aa360a65d39d660e627b}\label{namespacesimulation__mod_a447c6d709de6aa360a65d39d660e627b}} 
\index{simulation\+\_\+mod@{simulation\+\_\+mod}!setinitialstate@{setinitialstate}}
\index{setinitialstate@{setinitialstate}!simulation\+\_\+mod@{simulation\+\_\+mod}}
\subsubsection{\texorpdfstring{setinitialstate()}{setinitialstate()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+mod\+::setinitialstate (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__mod_1_1simulation__class}{simulation\+\_\+class}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Simulation method to distribute the Sources to the Blocks, allocate the respective Tracers and redistribute if needed. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 412 of file simulation.\+f90.


\begin{DoxyCode}
412     \textcolor{keywordtype}{class}(simulation\_class), \textcolor{keywordtype}{intent(inout)} :: self
413     \textcolor{keywordtype}{type}(string) :: outext
414     \textcolor{keywordtype}{integer} :: i, blk, ntrc
415     \textcolor{comment}{!iterate every Source to distribute}
416     ntrc = 0
417     \textcolor{keyword}{allocate}(globals%Sources%sourcesID(\textcolor{keyword}{size}(tempsources%src)))
418     \textcolor{keywordflow}{do} i=1, \textcolor{keyword}{size}(tempsources%src)
419         globals%Sources%sourcesID(i) = tempsources%src(i)%par%id
420         blk = getblockindex(geometry%getCenter(tempsources%src(i)%par%geometry))
421         \textcolor{keyword}{call }sblock(blk)%putSource(tempsources%src(i))
422         ntrc = ntrc + tempsources%src(i)%stencil%total\_np
423 \textcolor{keywordflow}{    end do}
424     \textcolor{keyword}{call }tempsources%finalize() \textcolor{comment}{!destroying the temporary Sources now they are shipped to the Blocks}
425     outext=\textcolor{stringliteral}{'-->Sources allocated to their current Blocks'}
426     \textcolor{keyword}{call }log%put(outext,.false.)
427     \textcolor{comment}{!outext = ntrc}
428     \textcolor{comment}{!outext='-->'//outext//' Tracers on the emission stack'}
429     \textcolor{comment}{!call Log%put(outext,.false.)}
430     \textcolor{keyword}{call }self%setTracerMemory(ntrc)
\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacesimulation__mod_a447c6d709de6aa360a65d39d660e627b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacesimulation__mod_acc5fa823c8dd599de8feda8988c224f2}\label{namespacesimulation__mod_acc5fa823c8dd599de8feda8988c224f2}} 
\index{simulation\+\_\+mod@{simulation\+\_\+mod}!settracermemory@{settracermemory}}
\index{settracermemory@{settracermemory}!simulation\+\_\+mod@{simulation\+\_\+mod}}
\subsubsection{\texorpdfstring{settracermemory()}{settracermemory()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+mod\+::settracermemory (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__mod_1_1simulation__class}{simulation\+\_\+class}}), intent(in)}]{self,  }\item[{integer, intent(in), optional}]{ntrc }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Simulation method to account for Tracer memory consumption. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 467 of file simulation.\+f90.


\begin{DoxyCode}
467     \textcolor{keywordtype}{class}(simulation\_class), \textcolor{keywordtype}{intent(in)} :: self
468     \textcolor{keywordtype}{integer}, \textcolor{keywordtype}{optional}, \textcolor{keywordtype}{intent(in)} :: ntrc
469     \textcolor{keywordtype}{integer} :: sizem, i
470     \textcolor{keywordtype}{type}(tracer\_class) :: dummyTracer
471     sizem = 0
472     \textcolor{keywordflow}{do} i=1, \textcolor{keyword}{size}(sblock)
473         sizem = sizem + sizeof(sblock(i)%LTracer) \textcolor{comment}{!this accounts for the array structure}
474         sizem = sizem + sizeof(dummytracer)*sblock(i)%LTracer%getSize() \textcolor{comment}{!this accounts for the contents}
475 \textcolor{keywordflow}{    enddo}
476     \textcolor{keyword}{call }simmemory%setracer(sizem)
477     \textcolor{keywordflow}{if}(\textcolor{keyword}{present}(ntrc)) \textcolor{keywordflow}{then}
478         \textcolor{keyword}{call }simmemory%setNtrc(ntrc)
479         \textcolor{keyword}{call }simmemory%setsizeTrc(sizeof(dummytracer))
480 \textcolor{keywordflow}{    end if}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__mod_a87a5141e4516b9610a6e4f0d2ff2d719}\label{namespacesimulation__mod_a87a5141e4516b9610a6e4f0d2ff2d719}} 
\index{simulation\+\_\+mod@{simulation\+\_\+mod}!togglesources@{togglesources}}
\index{togglesources@{togglesources}!simulation\+\_\+mod@{simulation\+\_\+mod}}
\subsubsection{\texorpdfstring{togglesources()}{togglesources()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+mod\+::togglesources (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__mod_1_1simulation__class}{simulation\+\_\+class}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Simulation method to activate and deactivate Sources based on the GlobalsSim\+TimeCurr\+Time. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 226 of file simulation.\+f90.


\begin{DoxyCode}
226     \textcolor{keywordtype}{class}(simulation\_class), \textcolor{keywordtype}{intent(inout)} :: self
227     \textcolor{keywordtype}{integer} :: i
228     \textcolor{keyword}{call }self%timerPrep%Tic()
229     \textcolor{keywordflow}{do} i=1, \textcolor{keyword}{size}(sblock)
230         \textcolor{keyword}{call }sblock(i)%ToogleBlockSources()
231 \textcolor{keywordflow}{    end do}
232     \textcolor{keyword}{call }self%timerPrep%Toc()
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__mod_a844f0fae91502f3fc79cc1223f55a86c}\label{namespacesimulation__mod_a844f0fae91502f3fc79cc1223f55a86c}} 
\index{simulation\+\_\+mod@{simulation\+\_\+mod}!updatesimdatetime@{updatesimdatetime}}
\index{updatesimdatetime@{updatesimdatetime}!simulation\+\_\+mod@{simulation\+\_\+mod}}
\subsubsection{\texorpdfstring{updatesimdatetime()}{updatesimdatetime()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+mod\+::updatesimdatetime (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__mod_1_1simulation__class}{simulation\+\_\+class}}), intent(in)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Simulation method to update the date and time variables. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 375 of file simulation.\+f90.


\begin{DoxyCode}
375     \textcolor{keywordtype}{class}(simulation\_class), \textcolor{keywordtype}{intent(in)} :: self
376     \textcolor{keywordflow}{if} (globals%Sim%getnumdt() /= 1 ) \textcolor{keyword}{call }globals%SimTime%setCurrDateTime(globals%SimDefs%dt)
\end{DoxyCode}
