\hypertarget{namespacesimulation__memory__mod}{}\section{simulation\+\_\+memory\+\_\+mod Module Reference}
\label{namespacesimulation__memory__mod}\index{simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}}


Module to hold the simulation memory managment class and its methods.  


\subsection*{Data Types}
\begin{DoxyCompactItemize}
\item 
type \mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}
\end{DoxyCompactItemize}
\subsection*{Functions/\+Subroutines}
\begin{DoxyCompactItemize}
\item 
subroutine \mbox{\hyperlink{namespacesimulation__memory__mod_ac8306165e4ec88fec9a2b8b719f61893}{initializememory}} (self)
\begin{DoxyCompactList}\small\item\em Memory logger initialization method. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__memory__mod_acf04d6b930ed3ffbc0950afd86033c51}{getotal}} (self, size)
\begin{DoxyCompactList}\small\item\em Method to retreive the total size of the allocated memory. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__memory__mod_ab16ab3a2c4acf078dd1a9e75778f64df}{setntrc}} (self, ntrc)
\begin{DoxyCompactList}\small\item\em Method to set the total expected number of Tracers. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__memory__mod_acc218928b4d5fc707cbe3bc4befafa65}{setsizetrc}} (self, size\+Trc)
\begin{DoxyCompactList}\small\item\em Method to set the size of a typical Tracer. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__memory__mod_a4169689db37b3ba35e092096a7019f80}{addblock}} (self, size)
\begin{DoxyCompactList}\small\item\em Method to add the size of a Block to the memory log. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__memory__mod_a940ff42fa3a49423f9ac98da2bffa54c}{addsource}} (self, size)
\begin{DoxyCompactList}\small\item\em Method to add the size of a Source to the memory log. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__memory__mod_a3dfcc0936ad144d609a1b9f9a3a0df6f}{setracer}} (self, size)
\begin{DoxyCompactList}\small\item\em Method to add the size of a Tracer to the memory log. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__memory__mod_ac6d6853bc462947d24a8f6234d625138}{adddef}} (self, size)
\begin{DoxyCompactList}\small\item\em Method to add the size of a definition to the memory log. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__memory__mod_a16a7a1c7e88fe5a5523d23f83f0e04a0}{printmemory}} (self)
\begin{DoxyCompactList}\small\item\em Method to print the total allocated memory. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacesimulation__memory__mod_a894bd4ec7462fd634d328ee5be4c6483}{printmemorydetailed}} (self)
\begin{DoxyCompactList}\small\item\em Method to print the allocated memory. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
type(\mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}), public \mbox{\hyperlink{namespacesimulation__memory__mod_af3e2714796469b4b1ec247569b184088}{simmemory}}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Module to hold the simulation memory managment class and its methods. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas 
\end{DoxyAuthor}


\subsection{Function/\+Subroutine Documentation}
\mbox{\Hypertarget{namespacesimulation__memory__mod_a4169689db37b3ba35e092096a7019f80}\label{namespacesimulation__memory__mod_a4169689db37b3ba35e092096a7019f80}} 
\index{simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}!addblock@{addblock}}
\index{addblock@{addblock}!simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}}
\subsubsection{\texorpdfstring{addblock()}{addblock()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+memory\+\_\+mod\+::addblock (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}), intent(inout)}]{self,  }\item[{integer, intent(in)}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Method to add the size of a Block to the memory log. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 113 of file simulation\+\_\+memory.\+f90.


\begin{DoxyCode}
113     \textcolor{keywordtype}{implicit none}
114     \textcolor{keywordtype}{class}(memory\_t), \textcolor{keywordtype}{intent(inout)} :: self
115     \textcolor{keywordtype}{integer}, \textcolor{keywordtype}{intent(in)} :: size
116     self%size\_of\_blocks = self%size\_of\_blocks + \textcolor{keyword}{size}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__memory__mod_ac6d6853bc462947d24a8f6234d625138}\label{namespacesimulation__memory__mod_ac6d6853bc462947d24a8f6234d625138}} 
\index{simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}!adddef@{adddef}}
\index{adddef@{adddef}!simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}}
\subsubsection{\texorpdfstring{adddef()}{adddef()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+memory\+\_\+mod\+::adddef (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}), intent(inout)}]{self,  }\item[{integer, intent(in)}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Method to add the size of a definition to the memory log. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 150 of file simulation\+\_\+memory.\+f90.


\begin{DoxyCode}
150     \textcolor{keywordtype}{implicit none}
151     \textcolor{keywordtype}{class}(memory\_t), \textcolor{keywordtype}{intent(inout)} :: self
152     \textcolor{keywordtype}{integer}, \textcolor{keywordtype}{intent(in)} :: size
153     self%size\_of\_defs = self%size\_of\_defs + \textcolor{keyword}{size}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__memory__mod_a940ff42fa3a49423f9ac98da2bffa54c}\label{namespacesimulation__memory__mod_a940ff42fa3a49423f9ac98da2bffa54c}} 
\index{simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}!addsource@{addsource}}
\index{addsource@{addsource}!simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}}
\subsubsection{\texorpdfstring{addsource()}{addsource()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+memory\+\_\+mod\+::addsource (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}), intent(inout)}]{self,  }\item[{integer, intent(in)}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Method to add the size of a Source to the memory log. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 125 of file simulation\+\_\+memory.\+f90.


\begin{DoxyCode}
125     \textcolor{keywordtype}{implicit none}
126     \textcolor{keywordtype}{class}(memory\_t), \textcolor{keywordtype}{intent(inout)} :: self
127     \textcolor{keywordtype}{integer}, \textcolor{keywordtype}{intent(in)} :: size
128     self%size\_of\_sources = self%size\_of\_sources + \textcolor{keyword}{size}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__memory__mod_acf04d6b930ed3ffbc0950afd86033c51}\label{namespacesimulation__memory__mod_acf04d6b930ed3ffbc0950afd86033c51}} 
\index{simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}!getotal@{getotal}}
\index{getotal@{getotal}!simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}}
\subsubsection{\texorpdfstring{getotal()}{getotal()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+memory\+\_\+mod\+::getotal (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}), intent(inout)}]{self,  }\item[{integer, intent(out)}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Method to retreive the total size of the allocated memory. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 77 of file simulation\+\_\+memory.\+f90.


\begin{DoxyCode}
77     \textcolor{keywordtype}{implicit none}
78     \textcolor{keywordtype}{class}(memory\_t), \textcolor{keywordtype}{intent(inout)} :: self
79     \textcolor{keywordtype}{integer}, \textcolor{keywordtype}{intent(out)} :: size
80     \textcolor{keyword}{size} = self%size\_of\_sources + self%size\_of\_tracers + self%size\_of\_defs + self%size\_of\_blocks
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__memory__mod_ac8306165e4ec88fec9a2b8b719f61893}\label{namespacesimulation__memory__mod_ac8306165e4ec88fec9a2b8b719f61893}} 
\index{simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}!initializememory@{initializememory}}
\index{initializememory@{initializememory}!simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}}
\subsubsection{\texorpdfstring{initializememory()}{initializememory()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+memory\+\_\+mod\+::initializememory (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Memory logger initialization method. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 63 of file simulation\+\_\+memory.\+f90.


\begin{DoxyCode}
63     \textcolor{keywordtype}{implicit none}
64     \textcolor{keywordtype}{class}(memory\_t), \textcolor{keywordtype}{intent(inout)} :: self
65     self%size\_of\_sources = 0
66     self%size\_of\_tracers = 0
67     self%size\_of\_defs = 0
68     self%size\_of\_blocks = 0
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__memory__mod_a16a7a1c7e88fe5a5523d23f83f0e04a0}\label{namespacesimulation__memory__mod_a16a7a1c7e88fe5a5523d23f83f0e04a0}} 
\index{simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}!printmemory@{printmemory}}
\index{printmemory@{printmemory}!simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}}
\subsubsection{\texorpdfstring{printmemory()}{printmemory()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+memory\+\_\+mod\+::printmemory (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Method to print the total allocated memory. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 162 of file simulation\+\_\+memory.\+f90.


\begin{DoxyCode}
162     \textcolor{keywordtype}{implicit none}
163     \textcolor{keywordtype}{class}(memory\_t), \textcolor{keywordtype}{intent(inout)} :: self
164     \textcolor{keywordtype}{integer} :: size
165     \textcolor{keywordtype}{real(prec)} :: sizemb
166     \textcolor{keywordtype}{type}(string) :: outext,temp
167     \textcolor{keyword}{call }self%getotal(size)
168     sizemb = size*1e-6
169     temp= sizemb
170     outext=\textcolor{stringliteral}{'->Total allocated memory: '}//temp//\textcolor{stringliteral}{' mb'}
171     \textcolor{keyword}{call }log%put(outext)    
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__memory__mod_a894bd4ec7462fd634d328ee5be4c6483}\label{namespacesimulation__memory__mod_a894bd4ec7462fd634d328ee5be4c6483}} 
\index{simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}!printmemorydetailed@{printmemorydetailed}}
\index{printmemorydetailed@{printmemorydetailed}!simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}}
\subsubsection{\texorpdfstring{printmemorydetailed()}{printmemorydetailed()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+memory\+\_\+mod\+::printmemorydetailed (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Method to print the allocated memory. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 180 of file simulation\+\_\+memory.\+f90.


\begin{DoxyCode}
180     \textcolor{keywordtype}{implicit none}
181     \textcolor{keywordtype}{class}(memory\_t), \textcolor{keywordtype}{intent(inout)} :: self
182     \textcolor{keywordtype}{integer} :: size
183     \textcolor{keywordtype}{real(prec)} :: sizemb
184     \textcolor{keywordtype}{type}(string) :: outext,temp(6)
185     \textcolor{keyword}{call }self%getotal(size)
186     sizemb = size*1e-6
187     temp(1)= sizemb
188     sizemb = self%size\_of\_sources*1e-6
189     temp(2)= sizemb
190     sizemb = self%size\_of\_tracers*1e-6
191     temp(3)= sizemb
192     sizemb = self%size\_of\_defs*1e-6
193     temp(4)= sizemb
194     sizemb = self%size\_of\_blocks*1e-6
195     temp(5)= sizemb
196     sizemb = self%ntrc*self%sizeTrc*1e-6
197     temp(6) = 2.25*sizemb
198     outext=\textcolor{stringliteral}{'->Total allocated memory: '}//temp(1)//\textcolor{stringliteral}{' mb'}//new\_line(\textcolor{stringliteral}{'a'})//&
199         \textcolor{stringliteral}{'       Allocated memory for Blocks  = '}//temp(5)//\textcolor{stringliteral}{' mb'}//new\_line(\textcolor{stringliteral}{'a'})//&
200         \textcolor{stringliteral}{'       Allocated memory for Sources = '}//temp(2)//\textcolor{stringliteral}{' mb'}//new\_line(\textcolor{stringliteral}{'a'})//&
201         \textcolor{stringliteral}{'       Allocated memory for Tracers = '}//temp(3)//\textcolor{stringliteral}{' mb'}//new\_line(\textcolor{stringliteral}{'a'})//&
202         \textcolor{stringliteral}{'       Allocated memory for Consts  = '}//temp(4)//\textcolor{stringliteral}{' mb'}//new\_line(\textcolor{stringliteral}{'a'})//&
203         \textcolor{stringliteral}{'       Expected memory requirements exceed '}//temp(6)//\textcolor{stringliteral}{' mb'}
204     \textcolor{keyword}{call }log%put(outext)
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__memory__mod_ab16ab3a2c4acf078dd1a9e75778f64df}\label{namespacesimulation__memory__mod_ab16ab3a2c4acf078dd1a9e75778f64df}} 
\index{simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}!setntrc@{setntrc}}
\index{setntrc@{setntrc}!simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}}
\subsubsection{\texorpdfstring{setntrc()}{setntrc()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+memory\+\_\+mod\+::setntrc (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}), intent(inout)}]{self,  }\item[{integer, intent(in)}]{ntrc }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Method to set the total expected number of Tracers. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 89 of file simulation\+\_\+memory.\+f90.


\begin{DoxyCode}
89     \textcolor{keywordtype}{implicit none}
90     \textcolor{keywordtype}{class}(memory\_t), \textcolor{keywordtype}{intent(inout)} :: self
91     \textcolor{keywordtype}{integer}, \textcolor{keywordtype}{intent(in)} :: ntrc
92     self%ntrc = ntrc
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__memory__mod_a3dfcc0936ad144d609a1b9f9a3a0df6f}\label{namespacesimulation__memory__mod_a3dfcc0936ad144d609a1b9f9a3a0df6f}} 
\index{simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}!setracer@{setracer}}
\index{setracer@{setracer}!simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}}
\subsubsection{\texorpdfstring{setracer()}{setracer()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+memory\+\_\+mod\+::setracer (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}), intent(inout)}]{self,  }\item[{integer, intent(in)}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Method to add the size of a Tracer to the memory log. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 137 of file simulation\+\_\+memory.\+f90.


\begin{DoxyCode}
137     \textcolor{keywordtype}{implicit none}
138     \textcolor{keywordtype}{class}(memory\_t), \textcolor{keywordtype}{intent(inout)} :: self
139     \textcolor{keywordtype}{integer}, \textcolor{keywordtype}{intent(in)} :: size
140     self%size\_of\_tracers = \textcolor{keyword}{size}
\end{DoxyCode}
\mbox{\Hypertarget{namespacesimulation__memory__mod_acc218928b4d5fc707cbe3bc4befafa65}\label{namespacesimulation__memory__mod_acc218928b4d5fc707cbe3bc4befafa65}} 
\index{simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}!setsizetrc@{setsizetrc}}
\index{setsizetrc@{setsizetrc}!simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}}
\subsubsection{\texorpdfstring{setsizetrc()}{setsizetrc()}}
{\footnotesize\ttfamily subroutine simulation\+\_\+memory\+\_\+mod\+::setsizetrc (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}), intent(inout)}]{self,  }\item[{integer$\ast$8, intent(in)}]{size\+Trc }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Method to set the size of a typical Tracer. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 101 of file simulation\+\_\+memory.\+f90.


\begin{DoxyCode}
101     \textcolor{keywordtype}{implicit none}
102     \textcolor{keywordtype}{class}(memory\_t), \textcolor{keywordtype}{intent(inout)} :: self
103     \textcolor{keywordtype}{integer*8}, \textcolor{keywordtype}{intent(in)} :: sizeTrc
104     self%sizeTrc = sizetrc
\end{DoxyCode}


\subsection{Variable Documentation}
\mbox{\Hypertarget{namespacesimulation__memory__mod_af3e2714796469b4b1ec247569b184088}\label{namespacesimulation__memory__mod_af3e2714796469b4b1ec247569b184088}} 
\index{simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}!simmemory@{simmemory}}
\index{simmemory@{simmemory}!simulation\+\_\+memory\+\_\+mod@{simulation\+\_\+memory\+\_\+mod}}
\subsubsection{\texorpdfstring{simmemory}{simmemory}}
{\footnotesize\ttfamily type(\mbox{\hyperlink{structsimulation__memory__mod_1_1memory__t}{memory\+\_\+t}}), public simulation\+\_\+memory\+\_\+mod\+::simmemory}



Definition at line 50 of file simulation\+\_\+memory.\+f90.


\begin{DoxyCode}
50     \textcolor{keywordtype}{type}(memory\_t) :: SimMemory
\end{DoxyCode}
