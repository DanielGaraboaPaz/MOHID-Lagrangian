\hypertarget{namespacestatevector__mod}{}\section{statevector\+\_\+mod Module Reference}
\label{namespacestatevector__mod}\index{statevector\+\_\+mod@{statevector\+\_\+mod}}


Module to hold the State Vector class and its methods. This class defines a state vector that encodes the state of a type of Tracers, allowing for trivial application of kernels and subsequent integration. These must be exported back into the objects from this class.  


\subsection*{Data Types}
\begin{DoxyCompactItemize}
\item 
type \mbox{\hyperlink{structstatevector__mod_1_1statevector__class}{statevector\+\_\+class}}
\item 
type \mbox{\hyperlink{structstatevector__mod_1_1trcptr__class}{trcptr\+\_\+class}}
\end{DoxyCompactItemize}
\subsection*{Functions/\+Subroutines}
\begin{DoxyCompactItemize}
\item 
subroutine \mbox{\hyperlink{namespacestatevector__mod_afb7f6650aedee27644d33416d3a49fc0}{copystate}} (self, newsv)
\begin{DoxyCompactList}\small\item\em Copies a State Vector to another. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacestatevector__mod_af0831dbae02e8ec94c576224cae673e5}{totracers}} (self)
\begin{DoxyCompactList}\small\item\em Sends the data on the State Vector to the Tracer objects. \end{DoxyCompactList}\item 
subroutine \mbox{\hyperlink{namespacestatevector__mod_acb2d2a7c4c5ee5d86a601be7db58c1df}{cleanstate}} (self)
\begin{DoxyCompactList}\small\item\em Cleans the State Vector object. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Module to hold the State Vector class and its methods. This class defines a state vector that encodes the state of a type of Tracers, allowing for trivial application of kernels and subsequent integration. These must be exported back into the objects from this class. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas 
\end{DoxyAuthor}


\subsection{Function/\+Subroutine Documentation}
\mbox{\Hypertarget{namespacestatevector__mod_acb2d2a7c4c5ee5d86a601be7db58c1df}\label{namespacestatevector__mod_acb2d2a7c4c5ee5d86a601be7db58c1df}} 
\index{statevector\+\_\+mod@{statevector\+\_\+mod}!cleanstate@{cleanstate}}
\index{cleanstate@{cleanstate}!statevector\+\_\+mod@{statevector\+\_\+mod}}
\subsubsection{\texorpdfstring{cleanstate()}{cleanstate()}}
{\footnotesize\ttfamily subroutine statevector\+\_\+mod\+::cleanstate (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structstatevector__mod_1_1statevector__class}{statevector\+\_\+class}}), intent(inout)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Cleans the State Vector object. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 112 of file state\+Vector.\+f90.


\begin{DoxyCode}
112     \textcolor{keywordtype}{class}(stateVector\_class), \textcolor{keywordtype}{intent(inout)} :: self
113     self%ttype = mv
114     \textcolor{keywordflow}{if} (\textcolor{keyword}{allocated}(self%trc)) \textcolor{keyword}{deallocate}(self%trc)
115     \textcolor{keywordflow}{if} (\textcolor{keyword}{allocated}(self%state)) \textcolor{keyword}{deallocate}(self%state)
116     \textcolor{keywordflow}{if} (\textcolor{keyword}{allocated}(self%landIntMask)) \textcolor{keyword}{deallocate}(self%landIntMask)
117     \textcolor{keywordflow}{if} (\textcolor{keyword}{allocated}(self%resolution)) \textcolor{keyword}{deallocate}(self%resolution)
118     \textcolor{keywordflow}{if} (\textcolor{keyword}{allocated}(self%active)) \textcolor{keyword}{deallocate}(self%active)
119     \textcolor{keywordflow}{if} (\textcolor{keyword}{allocated}(self%source)) \textcolor{keyword}{deallocate}(self%source)
120     \textcolor{keywordflow}{if} (\textcolor{keyword}{allocated}(self%id)) \textcolor{keyword}{deallocate}(self%id)
121     \textcolor{keywordflow}{if} (\textcolor{keyword}{allocated}(self%varName)) \textcolor{keyword}{deallocate}(self%varName)
122     self%idx = 1
\end{DoxyCode}
\mbox{\Hypertarget{namespacestatevector__mod_afb7f6650aedee27644d33416d3a49fc0}\label{namespacestatevector__mod_afb7f6650aedee27644d33416d3a49fc0}} 
\index{statevector\+\_\+mod@{statevector\+\_\+mod}!copystate@{copystate}}
\index{copystate@{copystate}!statevector\+\_\+mod@{statevector\+\_\+mod}}
\subsubsection{\texorpdfstring{copystate()}{copystate()}}
{\footnotesize\ttfamily subroutine statevector\+\_\+mod\+::copystate (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structstatevector__mod_1_1statevector__class}{statevector\+\_\+class}}), intent(in)}]{self,  }\item[{type(\mbox{\hyperlink{structstatevector__mod_1_1statevector__class}{statevector\+\_\+class}}), intent(out)}]{newsv }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Copies a State Vector to another. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 61 of file state\+Vector.\+f90.


\begin{DoxyCode}
61     \textcolor{keywordtype}{class}(stateVector\_class), \textcolor{keywordtype}{intent(in)} :: self
62     \textcolor{keywordtype}{type}(stateVector\_class), \textcolor{keywordtype}{intent(out)} :: newsv
63     
64     newsv%ttype = self%ttype
65     \textcolor{keyword}{allocate}(newsv%state(\textcolor{keyword}{size}(self%state,1), \textcolor{keyword}{size}(self%state,2)))
66     newsv%state = self%state    
67     \textcolor{keyword}{allocate}(newsv%landIntMask(\textcolor{keyword}{size}(self%landIntMask)))
68     newsv%landIntMask = self%landIntMask
69     \textcolor{keyword}{allocate}(newsv%resolution(\textcolor{keyword}{size}(self%resolution)))
70     newsv%resolution = self%resolution
71     \textcolor{keyword}{allocate}(newsv%active(\textcolor{keyword}{size}(self%active)))
72     newsv%active = self%active
73     \textcolor{keyword}{allocate}(newsv%varName(\textcolor{keyword}{size}(self%varName)))
74     newsv%varName = self%varName
75     \textcolor{comment}{!maybe no need to copy source, id and tracer pointer}
76     
\end{DoxyCode}
\mbox{\Hypertarget{namespacestatevector__mod_af0831dbae02e8ec94c576224cae673e5}\label{namespacestatevector__mod_af0831dbae02e8ec94c576224cae673e5}} 
\index{statevector\+\_\+mod@{statevector\+\_\+mod}!totracers@{totracers}}
\index{totracers@{totracers}!statevector\+\_\+mod@{statevector\+\_\+mod}}
\subsubsection{\texorpdfstring{totracers()}{totracers()}}
{\footnotesize\ttfamily subroutine statevector\+\_\+mod\+::totracers (\begin{DoxyParamCaption}\item[{class(\mbox{\hyperlink{structstatevector__mod_1_1statevector__class}{statevector\+\_\+class}}), intent(in)}]{self }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Sends the data on the State Vector to the Tracer objects. 

\begin{DoxyAuthor}{Author}
Ricardo Birjukovs Canelas -\/ M\+A\+R\+E\+T\+EC 
\end{DoxyAuthor}


Definition at line 85 of file state\+Vector.\+f90.


\begin{DoxyCode}
85     \textcolor{keywordtype}{class}(stateVector\_class), \textcolor{keywordtype}{intent(in)} :: self
86     \textcolor{keywordtype}{integer} :: i
87     \textcolor{keywordtype}{class}(tracer\_class), \textcolor{keywordtype}{pointer} :: aTracer
88     \textcolor{keywordtype}{type}(string) :: outext
89     \textcolor{keywordflow}{if}(\textcolor{keyword}{allocated}(self%active)) \textcolor{keywordflow}{then}
90         \textcolor{keywordflow}{do} i=1, \textcolor{keyword}{size}(self%active)
91             \textcolor{keywordflow}{if} (\textcolor{keyword}{associated}(self%trc(i)%ptr)) \textcolor{keywordflow}{then}
92                 atracer => self%trc(i)%ptr
93                 \textcolor{keywordflow}{if} (self%active(i)) \textcolor{keywordflow}{then}
94                     atracer%now%active = .true.
95                     \textcolor{keyword}{call }atracer%setStateArray(self%state(i,:))
96 \textcolor{keywordflow}{                end if}
97             \textcolor{keywordflow}{else}
98                 outext = \textcolor{stringliteral}{'[stateVector::toTracers]: pointer to Tracer not associated, stoping'}
99                 \textcolor{keyword}{call }log%put(outext)
100                 stop
101 \textcolor{keywordflow}{            end if}
102 \textcolor{keywordflow}{        end do}
103 \textcolor{keywordflow}{    end if}
\end{DoxyCode}
